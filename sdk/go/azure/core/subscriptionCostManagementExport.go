// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package core

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a Cost Management Export for a Subscription.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/core"
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/storage"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			example, err := core.LookupSubscription(ctx, &core.LookupSubscriptionArgs{}, nil)
//			if err != nil {
//				return err
//			}
//			exampleResourceGroup, err := core.NewResourceGroup(ctx, "example", &core.ResourceGroupArgs{
//				Name:     pulumi.String("example-resources"),
//				Location: pulumi.String("West Europe"),
//			})
//			if err != nil {
//				return err
//			}
//			exampleAccount, err := storage.NewAccount(ctx, "example", &storage.AccountArgs{
//				Name:                   pulumi.String("example"),
//				ResourceGroupName:      exampleResourceGroup.Name,
//				Location:               exampleResourceGroup.Location,
//				AccountTier:            pulumi.String("Standard"),
//				AccountReplicationType: pulumi.String("LRS"),
//			})
//			if err != nil {
//				return err
//			}
//			exampleContainer, err := storage.NewContainer(ctx, "example", &storage.ContainerArgs{
//				Name:               pulumi.String("examplecontainer"),
//				StorageAccountName: exampleAccount.Name,
//			})
//			if err != nil {
//				return err
//			}
//			_, err = core.NewSubscriptionCostManagementExport(ctx, "example", &core.SubscriptionCostManagementExportArgs{
//				Name:                      pulumi.String("example"),
//				SubscriptionId:            pulumi.String(example.Id),
//				RecurrenceType:            pulumi.String("Monthly"),
//				RecurrencePeriodStartDate: pulumi.String("2020-08-18T00:00:00Z"),
//				RecurrencePeriodEndDate:   pulumi.String("2020-09-18T00:00:00Z"),
//				FileFormat:                pulumi.String("Csv"),
//				ExportDataStorageLocation: &core.SubscriptionCostManagementExportExportDataStorageLocationArgs{
//					ContainerId:    exampleContainer.ID(),
//					RootFolderPath: pulumi.String("/root/updated"),
//				},
//				ExportDataOptions: &core.SubscriptionCostManagementExportExportDataOptionsArgs{
//					Type:      pulumi.String("Usage"),
//					TimeFrame: pulumi.String("WeekToDate"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## API Providers
//
// <!-- This section is generated, changes will be overwritten -->
// This resource uses the following Azure API Providers:
//
// * `Microsoft.CostManagement` - 2023-08-01
//
// ## Import
//
// Subscription Cost Management Exports can be imported using the `resource id`, e.g.
//
// ```sh
// $ pulumi import azure:core/subscriptionCostManagementExport:SubscriptionCostManagementExport example /subscriptions/12345678-1234-9876-4563-123456789012/providers/Microsoft.CostManagement/exports/export1
// ```
type SubscriptionCostManagementExport struct {
	pulumi.CustomResourceState

	// Is the cost management export active? Default is `true`.
	Active pulumi.BoolPtrOutput `pulumi:"active"`
	// A `exportDataOptions` block as defined below.
	ExportDataOptions SubscriptionCostManagementExportExportDataOptionsOutput `pulumi:"exportDataOptions"`
	// A `exportDataStorageLocation` block as defined below.
	ExportDataStorageLocation SubscriptionCostManagementExportExportDataStorageLocationOutput `pulumi:"exportDataStorageLocation"`
	// Format for export. Valid values are `Csv` only. Default is `Csv`.
	FileFormat pulumi.StringPtrOutput `pulumi:"fileFormat"`
	// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
	Name pulumi.StringOutput `pulumi:"name"`
	// The date the export will stop capturing information.
	RecurrencePeriodEndDate pulumi.StringOutput `pulumi:"recurrencePeriodEndDate"`
	// The date the export will start capturing information.
	RecurrencePeriodStartDate pulumi.StringOutput `pulumi:"recurrencePeriodStartDate"`
	// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
	RecurrenceType pulumi.StringOutput `pulumi:"recurrenceType"`
	// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
	SubscriptionId pulumi.StringOutput `pulumi:"subscriptionId"`
}

// NewSubscriptionCostManagementExport registers a new resource with the given unique name, arguments, and options.
func NewSubscriptionCostManagementExport(ctx *pulumi.Context,
	name string, args *SubscriptionCostManagementExportArgs, opts ...pulumi.ResourceOption) (*SubscriptionCostManagementExport, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.ExportDataOptions == nil {
		return nil, errors.New("invalid value for required argument 'ExportDataOptions'")
	}
	if args.ExportDataStorageLocation == nil {
		return nil, errors.New("invalid value for required argument 'ExportDataStorageLocation'")
	}
	if args.RecurrencePeriodEndDate == nil {
		return nil, errors.New("invalid value for required argument 'RecurrencePeriodEndDate'")
	}
	if args.RecurrencePeriodStartDate == nil {
		return nil, errors.New("invalid value for required argument 'RecurrencePeriodStartDate'")
	}
	if args.RecurrenceType == nil {
		return nil, errors.New("invalid value for required argument 'RecurrenceType'")
	}
	if args.SubscriptionId == nil {
		return nil, errors.New("invalid value for required argument 'SubscriptionId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource SubscriptionCostManagementExport
	err := ctx.RegisterResource("azure:core/subscriptionCostManagementExport:SubscriptionCostManagementExport", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetSubscriptionCostManagementExport gets an existing SubscriptionCostManagementExport resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetSubscriptionCostManagementExport(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *SubscriptionCostManagementExportState, opts ...pulumi.ResourceOption) (*SubscriptionCostManagementExport, error) {
	var resource SubscriptionCostManagementExport
	err := ctx.ReadResource("azure:core/subscriptionCostManagementExport:SubscriptionCostManagementExport", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering SubscriptionCostManagementExport resources.
type subscriptionCostManagementExportState struct {
	// Is the cost management export active? Default is `true`.
	Active *bool `pulumi:"active"`
	// A `exportDataOptions` block as defined below.
	ExportDataOptions *SubscriptionCostManagementExportExportDataOptions `pulumi:"exportDataOptions"`
	// A `exportDataStorageLocation` block as defined below.
	ExportDataStorageLocation *SubscriptionCostManagementExportExportDataStorageLocation `pulumi:"exportDataStorageLocation"`
	// Format for export. Valid values are `Csv` only. Default is `Csv`.
	FileFormat *string `pulumi:"fileFormat"`
	// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// The date the export will stop capturing information.
	RecurrencePeriodEndDate *string `pulumi:"recurrencePeriodEndDate"`
	// The date the export will start capturing information.
	RecurrencePeriodStartDate *string `pulumi:"recurrencePeriodStartDate"`
	// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
	RecurrenceType *string `pulumi:"recurrenceType"`
	// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
	SubscriptionId *string `pulumi:"subscriptionId"`
}

type SubscriptionCostManagementExportState struct {
	// Is the cost management export active? Default is `true`.
	Active pulumi.BoolPtrInput
	// A `exportDataOptions` block as defined below.
	ExportDataOptions SubscriptionCostManagementExportExportDataOptionsPtrInput
	// A `exportDataStorageLocation` block as defined below.
	ExportDataStorageLocation SubscriptionCostManagementExportExportDataStorageLocationPtrInput
	// Format for export. Valid values are `Csv` only. Default is `Csv`.
	FileFormat pulumi.StringPtrInput
	// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// The date the export will stop capturing information.
	RecurrencePeriodEndDate pulumi.StringPtrInput
	// The date the export will start capturing information.
	RecurrencePeriodStartDate pulumi.StringPtrInput
	// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
	RecurrenceType pulumi.StringPtrInput
	// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
	SubscriptionId pulumi.StringPtrInput
}

func (SubscriptionCostManagementExportState) ElementType() reflect.Type {
	return reflect.TypeOf((*subscriptionCostManagementExportState)(nil)).Elem()
}

type subscriptionCostManagementExportArgs struct {
	// Is the cost management export active? Default is `true`.
	Active *bool `pulumi:"active"`
	// A `exportDataOptions` block as defined below.
	ExportDataOptions SubscriptionCostManagementExportExportDataOptions `pulumi:"exportDataOptions"`
	// A `exportDataStorageLocation` block as defined below.
	ExportDataStorageLocation SubscriptionCostManagementExportExportDataStorageLocation `pulumi:"exportDataStorageLocation"`
	// Format for export. Valid values are `Csv` only. Default is `Csv`.
	FileFormat *string `pulumi:"fileFormat"`
	// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// The date the export will stop capturing information.
	RecurrencePeriodEndDate string `pulumi:"recurrencePeriodEndDate"`
	// The date the export will start capturing information.
	RecurrencePeriodStartDate string `pulumi:"recurrencePeriodStartDate"`
	// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
	RecurrenceType string `pulumi:"recurrenceType"`
	// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
	SubscriptionId string `pulumi:"subscriptionId"`
}

// The set of arguments for constructing a SubscriptionCostManagementExport resource.
type SubscriptionCostManagementExportArgs struct {
	// Is the cost management export active? Default is `true`.
	Active pulumi.BoolPtrInput
	// A `exportDataOptions` block as defined below.
	ExportDataOptions SubscriptionCostManagementExportExportDataOptionsInput
	// A `exportDataStorageLocation` block as defined below.
	ExportDataStorageLocation SubscriptionCostManagementExportExportDataStorageLocationInput
	// Format for export. Valid values are `Csv` only. Default is `Csv`.
	FileFormat pulumi.StringPtrInput
	// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// The date the export will stop capturing information.
	RecurrencePeriodEndDate pulumi.StringInput
	// The date the export will start capturing information.
	RecurrencePeriodStartDate pulumi.StringInput
	// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
	RecurrenceType pulumi.StringInput
	// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
	SubscriptionId pulumi.StringInput
}

func (SubscriptionCostManagementExportArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*subscriptionCostManagementExportArgs)(nil)).Elem()
}

type SubscriptionCostManagementExportInput interface {
	pulumi.Input

	ToSubscriptionCostManagementExportOutput() SubscriptionCostManagementExportOutput
	ToSubscriptionCostManagementExportOutputWithContext(ctx context.Context) SubscriptionCostManagementExportOutput
}

func (*SubscriptionCostManagementExport) ElementType() reflect.Type {
	return reflect.TypeOf((**SubscriptionCostManagementExport)(nil)).Elem()
}

func (i *SubscriptionCostManagementExport) ToSubscriptionCostManagementExportOutput() SubscriptionCostManagementExportOutput {
	return i.ToSubscriptionCostManagementExportOutputWithContext(context.Background())
}

func (i *SubscriptionCostManagementExport) ToSubscriptionCostManagementExportOutputWithContext(ctx context.Context) SubscriptionCostManagementExportOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SubscriptionCostManagementExportOutput)
}

// SubscriptionCostManagementExportArrayInput is an input type that accepts SubscriptionCostManagementExportArray and SubscriptionCostManagementExportArrayOutput values.
// You can construct a concrete instance of `SubscriptionCostManagementExportArrayInput` via:
//
//	SubscriptionCostManagementExportArray{ SubscriptionCostManagementExportArgs{...} }
type SubscriptionCostManagementExportArrayInput interface {
	pulumi.Input

	ToSubscriptionCostManagementExportArrayOutput() SubscriptionCostManagementExportArrayOutput
	ToSubscriptionCostManagementExportArrayOutputWithContext(context.Context) SubscriptionCostManagementExportArrayOutput
}

type SubscriptionCostManagementExportArray []SubscriptionCostManagementExportInput

func (SubscriptionCostManagementExportArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*SubscriptionCostManagementExport)(nil)).Elem()
}

func (i SubscriptionCostManagementExportArray) ToSubscriptionCostManagementExportArrayOutput() SubscriptionCostManagementExportArrayOutput {
	return i.ToSubscriptionCostManagementExportArrayOutputWithContext(context.Background())
}

func (i SubscriptionCostManagementExportArray) ToSubscriptionCostManagementExportArrayOutputWithContext(ctx context.Context) SubscriptionCostManagementExportArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SubscriptionCostManagementExportArrayOutput)
}

// SubscriptionCostManagementExportMapInput is an input type that accepts SubscriptionCostManagementExportMap and SubscriptionCostManagementExportMapOutput values.
// You can construct a concrete instance of `SubscriptionCostManagementExportMapInput` via:
//
//	SubscriptionCostManagementExportMap{ "key": SubscriptionCostManagementExportArgs{...} }
type SubscriptionCostManagementExportMapInput interface {
	pulumi.Input

	ToSubscriptionCostManagementExportMapOutput() SubscriptionCostManagementExportMapOutput
	ToSubscriptionCostManagementExportMapOutputWithContext(context.Context) SubscriptionCostManagementExportMapOutput
}

type SubscriptionCostManagementExportMap map[string]SubscriptionCostManagementExportInput

func (SubscriptionCostManagementExportMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*SubscriptionCostManagementExport)(nil)).Elem()
}

func (i SubscriptionCostManagementExportMap) ToSubscriptionCostManagementExportMapOutput() SubscriptionCostManagementExportMapOutput {
	return i.ToSubscriptionCostManagementExportMapOutputWithContext(context.Background())
}

func (i SubscriptionCostManagementExportMap) ToSubscriptionCostManagementExportMapOutputWithContext(ctx context.Context) SubscriptionCostManagementExportMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(SubscriptionCostManagementExportMapOutput)
}

type SubscriptionCostManagementExportOutput struct{ *pulumi.OutputState }

func (SubscriptionCostManagementExportOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**SubscriptionCostManagementExport)(nil)).Elem()
}

func (o SubscriptionCostManagementExportOutput) ToSubscriptionCostManagementExportOutput() SubscriptionCostManagementExportOutput {
	return o
}

func (o SubscriptionCostManagementExportOutput) ToSubscriptionCostManagementExportOutputWithContext(ctx context.Context) SubscriptionCostManagementExportOutput {
	return o
}

// Is the cost management export active? Default is `true`.
func (o SubscriptionCostManagementExportOutput) Active() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.BoolPtrOutput { return v.Active }).(pulumi.BoolPtrOutput)
}

// A `exportDataOptions` block as defined below.
func (o SubscriptionCostManagementExportOutput) ExportDataOptions() SubscriptionCostManagementExportExportDataOptionsOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) SubscriptionCostManagementExportExportDataOptionsOutput {
		return v.ExportDataOptions
	}).(SubscriptionCostManagementExportExportDataOptionsOutput)
}

// A `exportDataStorageLocation` block as defined below.
func (o SubscriptionCostManagementExportOutput) ExportDataStorageLocation() SubscriptionCostManagementExportExportDataStorageLocationOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) SubscriptionCostManagementExportExportDataStorageLocationOutput {
		return v.ExportDataStorageLocation
	}).(SubscriptionCostManagementExportExportDataStorageLocationOutput)
}

// Format for export. Valid values are `Csv` only. Default is `Csv`.
func (o SubscriptionCostManagementExportOutput) FileFormat() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringPtrOutput { return v.FileFormat }).(pulumi.StringPtrOutput)
}

// Specifies the name of the Cost Management Export. Changing this forces a new resource to be created.
func (o SubscriptionCostManagementExportOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// The date the export will stop capturing information.
func (o SubscriptionCostManagementExportOutput) RecurrencePeriodEndDate() pulumi.StringOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringOutput { return v.RecurrencePeriodEndDate }).(pulumi.StringOutput)
}

// The date the export will start capturing information.
func (o SubscriptionCostManagementExportOutput) RecurrencePeriodStartDate() pulumi.StringOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringOutput { return v.RecurrencePeriodStartDate }).(pulumi.StringOutput)
}

// How often the requested information will be exported. Valid values include `Annually`, `Daily`, `Monthly`, `Weekly`.
func (o SubscriptionCostManagementExportOutput) RecurrenceType() pulumi.StringOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringOutput { return v.RecurrenceType }).(pulumi.StringOutput)
}

// The id of the subscription on which to create an export. Changing this forces a new resource to be created.
func (o SubscriptionCostManagementExportOutput) SubscriptionId() pulumi.StringOutput {
	return o.ApplyT(func(v *SubscriptionCostManagementExport) pulumi.StringOutput { return v.SubscriptionId }).(pulumi.StringOutput)
}

type SubscriptionCostManagementExportArrayOutput struct{ *pulumi.OutputState }

func (SubscriptionCostManagementExportArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*SubscriptionCostManagementExport)(nil)).Elem()
}

func (o SubscriptionCostManagementExportArrayOutput) ToSubscriptionCostManagementExportArrayOutput() SubscriptionCostManagementExportArrayOutput {
	return o
}

func (o SubscriptionCostManagementExportArrayOutput) ToSubscriptionCostManagementExportArrayOutputWithContext(ctx context.Context) SubscriptionCostManagementExportArrayOutput {
	return o
}

func (o SubscriptionCostManagementExportArrayOutput) Index(i pulumi.IntInput) SubscriptionCostManagementExportOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *SubscriptionCostManagementExport {
		return vs[0].([]*SubscriptionCostManagementExport)[vs[1].(int)]
	}).(SubscriptionCostManagementExportOutput)
}

type SubscriptionCostManagementExportMapOutput struct{ *pulumi.OutputState }

func (SubscriptionCostManagementExportMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*SubscriptionCostManagementExport)(nil)).Elem()
}

func (o SubscriptionCostManagementExportMapOutput) ToSubscriptionCostManagementExportMapOutput() SubscriptionCostManagementExportMapOutput {
	return o
}

func (o SubscriptionCostManagementExportMapOutput) ToSubscriptionCostManagementExportMapOutputWithContext(ctx context.Context) SubscriptionCostManagementExportMapOutput {
	return o
}

func (o SubscriptionCostManagementExportMapOutput) MapIndex(k pulumi.StringInput) SubscriptionCostManagementExportOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *SubscriptionCostManagementExport {
		return vs[0].(map[string]*SubscriptionCostManagementExport)[vs[1].(string)]
	}).(SubscriptionCostManagementExportOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*SubscriptionCostManagementExportInput)(nil)).Elem(), &SubscriptionCostManagementExport{})
	pulumi.RegisterInputType(reflect.TypeOf((*SubscriptionCostManagementExportArrayInput)(nil)).Elem(), SubscriptionCostManagementExportArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*SubscriptionCostManagementExportMapInput)(nil)).Elem(), SubscriptionCostManagementExportMap{})
	pulumi.RegisterOutputType(SubscriptionCostManagementExportOutput{})
	pulumi.RegisterOutputType(SubscriptionCostManagementExportArrayOutput{})
	pulumi.RegisterOutputType(SubscriptionCostManagementExportMapOutput{})
}
