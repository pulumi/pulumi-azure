// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package frontdoor

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// !> **IMPORTANT** This deploys an Azure Front Door (classic) resource which has been deprecated and will receive security updates only. Please migrate your existing Azure Front Door (classic) deployments to the new Azure Front Door (standard/premium) resources. For your convenience, the service team has exposed a `Front Door Classic` to `Front Door Standard/Premium` [migration tool](https://learn.microsoft.com/azure/frontdoor/tier-migration) to allow you to migrate your existing `Front Door Classic` instances to the new `Front Door Standard/Premium` product tiers.
//
// Manages the Custom HTTPS Configuration for an Azure Front Door (classic) Frontend Endpoint.
//
// > **NOTE:** Defining custom HTTPS configurations using a separate `frontdoor.CustomHttpsConfiguration` resource allows for parallel creation/update.
//
// !> **BREAKING CHANGE:** In order to address the ordering issue we have changed the design on how to retrieve existing sub resources such as frontend endpoints. Existing design will be deprecated and will result in an incorrect configuration. Please refer to the updated documentation below for more information.
//
// !> **BREAKING CHANGE:** The `resourceGroupName` field has been removed as of the `v2.58.0` provider release. If the `resourceGroupName` field has been defined in your current `frontdoor.CustomHttpsConfiguration` resource configuration file please remove it else you will receive a `An argument named "resourceGroupName" is not expected here.` error. If your pre-existing Front Door instance contained inline `customHttpsConfiguration` blocks there are additional steps that will need to be completed to successfully migrate your Front Door onto the `v2.58.0` provider which can be found in this guide.
//
// !> **Be Aware:** Azure is rolling out a breaking change on Friday 9th April 2021 which may cause issues with the CDN/FrontDoor resources. More information is available in this GitHub issue as the necessary changes are identified.
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/core"
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/frontdoor"
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/keyvault"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			exampleResourceGroup, err := core.NewResourceGroup(ctx, "exampleResourceGroup", &core.ResourceGroupArgs{
//				Location: pulumi.String("West Europe"),
//			})
//			if err != nil {
//				return err
//			}
//			vault, err := keyvault.LookupKeyVault(ctx, &keyvault.LookupKeyVaultArgs{
//				Name:              "example-vault",
//				ResourceGroupName: "example-vault-rg",
//			}, nil)
//			if err != nil {
//				return err
//			}
//			exampleFrontdoor, err := frontdoor.NewFrontdoor(ctx, "exampleFrontdoor", &frontdoor.FrontdoorArgs{
//				ResourceGroupName: exampleResourceGroup.Name,
//				RoutingRules: frontdoor.FrontdoorRoutingRuleArray{
//					&frontdoor.FrontdoorRoutingRuleArgs{
//						Name: pulumi.String("exampleRoutingRule1"),
//						AcceptedProtocols: pulumi.StringArray{
//							pulumi.String("Http"),
//							pulumi.String("Https"),
//						},
//						PatternsToMatches: pulumi.StringArray{
//							pulumi.String("/*"),
//						},
//						FrontendEndpoints: pulumi.StringArray{
//							pulumi.String("exampleFrontendEndpoint1"),
//						},
//						ForwardingConfiguration: &frontdoor.FrontdoorRoutingRuleForwardingConfigurationArgs{
//							ForwardingProtocol: pulumi.String("MatchRequest"),
//							BackendPoolName:    pulumi.String("exampleBackendBing"),
//						},
//					},
//				},
//				BackendPoolLoadBalancings: frontdoor.FrontdoorBackendPoolLoadBalancingArray{
//					&frontdoor.FrontdoorBackendPoolLoadBalancingArgs{
//						Name: pulumi.String("exampleLoadBalancingSettings1"),
//					},
//				},
//				BackendPoolHealthProbes: frontdoor.FrontdoorBackendPoolHealthProbeArray{
//					&frontdoor.FrontdoorBackendPoolHealthProbeArgs{
//						Name: pulumi.String("exampleHealthProbeSetting1"),
//					},
//				},
//				BackendPools: frontdoor.FrontdoorBackendPoolArray{
//					&frontdoor.FrontdoorBackendPoolArgs{
//						Name: pulumi.String("exampleBackendBing"),
//						Backends: frontdoor.FrontdoorBackendPoolBackendArray{
//							&frontdoor.FrontdoorBackendPoolBackendArgs{
//								HostHeader: pulumi.String("www.bing.com"),
//								Address:    pulumi.String("www.bing.com"),
//								HttpPort:   pulumi.Int(80),
//								HttpsPort:  pulumi.Int(443),
//							},
//						},
//						LoadBalancingName: pulumi.String("exampleLoadBalancingSettings1"),
//						HealthProbeName:   pulumi.String("exampleHealthProbeSetting1"),
//					},
//				},
//				FrontendEndpoints: frontdoor.FrontdoorFrontendEndpointArray{
//					&frontdoor.FrontdoorFrontendEndpointArgs{
//						Name:     pulumi.String("exampleFrontendEndpoint1"),
//						HostName: pulumi.String("example-FrontDoor.azurefd.net"),
//					},
//					&frontdoor.FrontdoorFrontendEndpointArgs{
//						Name:     pulumi.String("exampleFrontendEndpoint2"),
//						HostName: pulumi.String("examplefd1.examplefd.net"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			_, err = frontdoor.NewCustomHttpsConfiguration(ctx, "exampleCustomHttps0", &frontdoor.CustomHttpsConfigurationArgs{
//				FrontendEndpointId: exampleFrontdoor.FrontendEndpointsMap.ApplyT(func(frontendEndpointsMap map[string]string) (string, error) {
//					return frontendEndpointsMap.ExampleFrontendEndpoint1, nil
//				}).(pulumi.StringOutput),
//				CustomHttpsProvisioningEnabled: pulumi.Bool(false),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = frontdoor.NewCustomHttpsConfiguration(ctx, "exampleCustomHttps1", &frontdoor.CustomHttpsConfigurationArgs{
//				FrontendEndpointId: exampleFrontdoor.FrontendEndpointsMap.ApplyT(func(frontendEndpointsMap map[string]string) (string, error) {
//					return frontendEndpointsMap.ExampleFrontendEndpoint2, nil
//				}).(pulumi.StringOutput),
//				CustomHttpsProvisioningEnabled: pulumi.Bool(true),
//				CustomHttpsConfiguration: &frontdoor.CustomHttpsConfigurationCustomHttpsConfigurationArgs{
//					CertificateSource:                  pulumi.String("AzureKeyVault"),
//					AzureKeyVaultCertificateSecretName: pulumi.String("examplefd1"),
//					AzureKeyVaultCertificateVaultId:    *pulumi.String(vault.Id),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// Front Door Custom HTTPS Configurations can be imported using the `resource id` of the Front Door Custom HTTPS Configuration, e.g.
//
// ```sh
//
//	$ pulumi import azure:frontdoor/customHttpsConfiguration:CustomHttpsConfiguration example_custom_https_1 /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mygroup1/providers/Microsoft.Network/frontDoors/frontdoor1/customHttpsConfiguration/endpoint1
//
// ```
type CustomHttpsConfiguration struct {
	pulumi.CustomResourceState

	// A `customHttpsConfiguration` block as defined above.
	CustomHttpsConfiguration CustomHttpsConfigurationCustomHttpsConfigurationPtrOutput `pulumi:"customHttpsConfiguration"`
	// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
	CustomHttpsProvisioningEnabled pulumi.BoolOutput `pulumi:"customHttpsProvisioningEnabled"`
	// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
	FrontendEndpointId pulumi.StringOutput `pulumi:"frontendEndpointId"`
}

// NewCustomHttpsConfiguration registers a new resource with the given unique name, arguments, and options.
func NewCustomHttpsConfiguration(ctx *pulumi.Context,
	name string, args *CustomHttpsConfigurationArgs, opts ...pulumi.ResourceOption) (*CustomHttpsConfiguration, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CustomHttpsProvisioningEnabled == nil {
		return nil, errors.New("invalid value for required argument 'CustomHttpsProvisioningEnabled'")
	}
	if args.FrontendEndpointId == nil {
		return nil, errors.New("invalid value for required argument 'FrontendEndpointId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource CustomHttpsConfiguration
	err := ctx.RegisterResource("azure:frontdoor/customHttpsConfiguration:CustomHttpsConfiguration", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetCustomHttpsConfiguration gets an existing CustomHttpsConfiguration resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetCustomHttpsConfiguration(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *CustomHttpsConfigurationState, opts ...pulumi.ResourceOption) (*CustomHttpsConfiguration, error) {
	var resource CustomHttpsConfiguration
	err := ctx.ReadResource("azure:frontdoor/customHttpsConfiguration:CustomHttpsConfiguration", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering CustomHttpsConfiguration resources.
type customHttpsConfigurationState struct {
	// A `customHttpsConfiguration` block as defined above.
	CustomHttpsConfiguration *CustomHttpsConfigurationCustomHttpsConfiguration `pulumi:"customHttpsConfiguration"`
	// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
	CustomHttpsProvisioningEnabled *bool `pulumi:"customHttpsProvisioningEnabled"`
	// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
	FrontendEndpointId *string `pulumi:"frontendEndpointId"`
}

type CustomHttpsConfigurationState struct {
	// A `customHttpsConfiguration` block as defined above.
	CustomHttpsConfiguration CustomHttpsConfigurationCustomHttpsConfigurationPtrInput
	// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
	CustomHttpsProvisioningEnabled pulumi.BoolPtrInput
	// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
	FrontendEndpointId pulumi.StringPtrInput
}

func (CustomHttpsConfigurationState) ElementType() reflect.Type {
	return reflect.TypeOf((*customHttpsConfigurationState)(nil)).Elem()
}

type customHttpsConfigurationArgs struct {
	// A `customHttpsConfiguration` block as defined above.
	CustomHttpsConfiguration *CustomHttpsConfigurationCustomHttpsConfiguration `pulumi:"customHttpsConfiguration"`
	// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
	CustomHttpsProvisioningEnabled bool `pulumi:"customHttpsProvisioningEnabled"`
	// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
	FrontendEndpointId string `pulumi:"frontendEndpointId"`
}

// The set of arguments for constructing a CustomHttpsConfiguration resource.
type CustomHttpsConfigurationArgs struct {
	// A `customHttpsConfiguration` block as defined above.
	CustomHttpsConfiguration CustomHttpsConfigurationCustomHttpsConfigurationPtrInput
	// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
	CustomHttpsProvisioningEnabled pulumi.BoolInput
	// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
	FrontendEndpointId pulumi.StringInput
}

func (CustomHttpsConfigurationArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*customHttpsConfigurationArgs)(nil)).Elem()
}

type CustomHttpsConfigurationInput interface {
	pulumi.Input

	ToCustomHttpsConfigurationOutput() CustomHttpsConfigurationOutput
	ToCustomHttpsConfigurationOutputWithContext(ctx context.Context) CustomHttpsConfigurationOutput
}

func (*CustomHttpsConfiguration) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomHttpsConfiguration)(nil)).Elem()
}

func (i *CustomHttpsConfiguration) ToCustomHttpsConfigurationOutput() CustomHttpsConfigurationOutput {
	return i.ToCustomHttpsConfigurationOutputWithContext(context.Background())
}

func (i *CustomHttpsConfiguration) ToCustomHttpsConfigurationOutputWithContext(ctx context.Context) CustomHttpsConfigurationOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomHttpsConfigurationOutput)
}

// CustomHttpsConfigurationArrayInput is an input type that accepts CustomHttpsConfigurationArray and CustomHttpsConfigurationArrayOutput values.
// You can construct a concrete instance of `CustomHttpsConfigurationArrayInput` via:
//
//	CustomHttpsConfigurationArray{ CustomHttpsConfigurationArgs{...} }
type CustomHttpsConfigurationArrayInput interface {
	pulumi.Input

	ToCustomHttpsConfigurationArrayOutput() CustomHttpsConfigurationArrayOutput
	ToCustomHttpsConfigurationArrayOutputWithContext(context.Context) CustomHttpsConfigurationArrayOutput
}

type CustomHttpsConfigurationArray []CustomHttpsConfigurationInput

func (CustomHttpsConfigurationArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomHttpsConfiguration)(nil)).Elem()
}

func (i CustomHttpsConfigurationArray) ToCustomHttpsConfigurationArrayOutput() CustomHttpsConfigurationArrayOutput {
	return i.ToCustomHttpsConfigurationArrayOutputWithContext(context.Background())
}

func (i CustomHttpsConfigurationArray) ToCustomHttpsConfigurationArrayOutputWithContext(ctx context.Context) CustomHttpsConfigurationArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomHttpsConfigurationArrayOutput)
}

// CustomHttpsConfigurationMapInput is an input type that accepts CustomHttpsConfigurationMap and CustomHttpsConfigurationMapOutput values.
// You can construct a concrete instance of `CustomHttpsConfigurationMapInput` via:
//
//	CustomHttpsConfigurationMap{ "key": CustomHttpsConfigurationArgs{...} }
type CustomHttpsConfigurationMapInput interface {
	pulumi.Input

	ToCustomHttpsConfigurationMapOutput() CustomHttpsConfigurationMapOutput
	ToCustomHttpsConfigurationMapOutputWithContext(context.Context) CustomHttpsConfigurationMapOutput
}

type CustomHttpsConfigurationMap map[string]CustomHttpsConfigurationInput

func (CustomHttpsConfigurationMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomHttpsConfiguration)(nil)).Elem()
}

func (i CustomHttpsConfigurationMap) ToCustomHttpsConfigurationMapOutput() CustomHttpsConfigurationMapOutput {
	return i.ToCustomHttpsConfigurationMapOutputWithContext(context.Background())
}

func (i CustomHttpsConfigurationMap) ToCustomHttpsConfigurationMapOutputWithContext(ctx context.Context) CustomHttpsConfigurationMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(CustomHttpsConfigurationMapOutput)
}

type CustomHttpsConfigurationOutput struct{ *pulumi.OutputState }

func (CustomHttpsConfigurationOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**CustomHttpsConfiguration)(nil)).Elem()
}

func (o CustomHttpsConfigurationOutput) ToCustomHttpsConfigurationOutput() CustomHttpsConfigurationOutput {
	return o
}

func (o CustomHttpsConfigurationOutput) ToCustomHttpsConfigurationOutputWithContext(ctx context.Context) CustomHttpsConfigurationOutput {
	return o
}

// A `customHttpsConfiguration` block as defined above.
func (o CustomHttpsConfigurationOutput) CustomHttpsConfiguration() CustomHttpsConfigurationCustomHttpsConfigurationPtrOutput {
	return o.ApplyT(func(v *CustomHttpsConfiguration) CustomHttpsConfigurationCustomHttpsConfigurationPtrOutput {
		return v.CustomHttpsConfiguration
	}).(CustomHttpsConfigurationCustomHttpsConfigurationPtrOutput)
}

// Should the HTTPS protocol be enabled for this custom domain associated with the Front Door?
func (o CustomHttpsConfigurationOutput) CustomHttpsProvisioningEnabled() pulumi.BoolOutput {
	return o.ApplyT(func(v *CustomHttpsConfiguration) pulumi.BoolOutput { return v.CustomHttpsProvisioningEnabled }).(pulumi.BoolOutput)
}

// The ID of the Front Door Frontend Endpoint which this configuration refers to. Changing this forces a new resource to be created.
func (o CustomHttpsConfigurationOutput) FrontendEndpointId() pulumi.StringOutput {
	return o.ApplyT(func(v *CustomHttpsConfiguration) pulumi.StringOutput { return v.FrontendEndpointId }).(pulumi.StringOutput)
}

type CustomHttpsConfigurationArrayOutput struct{ *pulumi.OutputState }

func (CustomHttpsConfigurationArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*CustomHttpsConfiguration)(nil)).Elem()
}

func (o CustomHttpsConfigurationArrayOutput) ToCustomHttpsConfigurationArrayOutput() CustomHttpsConfigurationArrayOutput {
	return o
}

func (o CustomHttpsConfigurationArrayOutput) ToCustomHttpsConfigurationArrayOutputWithContext(ctx context.Context) CustomHttpsConfigurationArrayOutput {
	return o
}

func (o CustomHttpsConfigurationArrayOutput) Index(i pulumi.IntInput) CustomHttpsConfigurationOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *CustomHttpsConfiguration {
		return vs[0].([]*CustomHttpsConfiguration)[vs[1].(int)]
	}).(CustomHttpsConfigurationOutput)
}

type CustomHttpsConfigurationMapOutput struct{ *pulumi.OutputState }

func (CustomHttpsConfigurationMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*CustomHttpsConfiguration)(nil)).Elem()
}

func (o CustomHttpsConfigurationMapOutput) ToCustomHttpsConfigurationMapOutput() CustomHttpsConfigurationMapOutput {
	return o
}

func (o CustomHttpsConfigurationMapOutput) ToCustomHttpsConfigurationMapOutputWithContext(ctx context.Context) CustomHttpsConfigurationMapOutput {
	return o
}

func (o CustomHttpsConfigurationMapOutput) MapIndex(k pulumi.StringInput) CustomHttpsConfigurationOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *CustomHttpsConfiguration {
		return vs[0].(map[string]*CustomHttpsConfiguration)[vs[1].(string)]
	}).(CustomHttpsConfigurationOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*CustomHttpsConfigurationInput)(nil)).Elem(), &CustomHttpsConfiguration{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomHttpsConfigurationArrayInput)(nil)).Elem(), CustomHttpsConfigurationArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*CustomHttpsConfigurationMapInput)(nil)).Elem(), CustomHttpsConfigurationMap{})
	pulumi.RegisterOutputType(CustomHttpsConfigurationOutput{})
	pulumi.RegisterOutputType(CustomHttpsConfigurationArrayOutput{})
	pulumi.RegisterOutputType(CustomHttpsConfigurationMapOutput{})
}
