// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package loganalytics

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Manages a Custom Log Table in a Log Analytics (formally Operational Insights) Workspace.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/core"
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/loganalytics"
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/operationalinsights"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			example, err := core.NewResourceGroup(ctx, "example", &core.ResourceGroupArgs{
//				Name:     pulumi.String("example-resources"),
//				Location: pulumi.String("West Europe"),
//			})
//			if err != nil {
//				return err
//			}
//			exampleAnalyticsWorkspace, err := operationalinsights.NewAnalyticsWorkspace(ctx, "example", &operationalinsights.AnalyticsWorkspaceArgs{
//				Name:              pulumi.String("example"),
//				Location:          example.Location,
//				ResourceGroupName: example.Name,
//				Sku:               pulumi.String("PerGB2018"),
//				RetentionInDays:   pulumi.Int(30),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = loganalytics.NewWorkspaceTableCustomLog(ctx, "example", &loganalytics.WorkspaceTableCustomLogArgs{
//				Name:        pulumi.String("example_CL"),
//				WorkspaceId: exampleAnalyticsWorkspace.ID(),
//				Columns: loganalytics.WorkspaceTableCustomLogColumnArray{
//					&loganalytics.WorkspaceTableCustomLogColumnArgs{
//						Name: pulumi.String("TimeGenerated"),
//						Type: pulumi.String("datetime"),
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## API Providers
//
// <!-- This section is generated, changes will be overwritten -->
// This resource uses the following Azure API Providers:
//
// * `Microsoft.OperationalInsights` - 2022-10-01
//
// ## Import
//
// Log Analytics Workspace Table Custom Logs can be imported using the `resource id`, e.g.
//
// ```sh
// $ pulumi import azure:loganalytics/workspaceTableCustomLog:WorkspaceTableCustomLog example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mygroup1/providers/Microsoft.OperationalInsights/workspaces/workspace1/tables/table1
// ```
type WorkspaceTableCustomLog struct {
	pulumi.CustomResourceState

	// One or more `column` blocks as defined below.
	Columns WorkspaceTableCustomLogColumnArrayOutput `pulumi:"columns"`
	// The description of the table.
	Description pulumi.StringPtrOutput `pulumi:"description"`
	// The display name of the table.
	DisplayName pulumi.StringPtrOutput `pulumi:"displayName"`
	// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
	//
	// > **Note:** `name` must end with `_CL`.
	Name pulumi.StringOutput `pulumi:"name"`
	// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
	//
	// > **Note:** Changing the table's `plan` is limited to once a week.
	Plan pulumi.StringPtrOutput `pulumi:"plan"`
	// The table's retention in days. Possible values range between `4` and `730`.
	//
	// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
	RetentionInDays pulumi.IntPtrOutput `pulumi:"retentionInDays"`
	// A list of solutions associated with the table.
	Solutions pulumi.StringArrayOutput `pulumi:"solutions"`
	// One or more `standardColumn` blocks as defined below.
	StandardColumns WorkspaceTableCustomLogStandardColumnArrayOutput `pulumi:"standardColumns"`
	// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
	TotalRetentionInDays pulumi.IntPtrOutput `pulumi:"totalRetentionInDays"`
	// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
	WorkspaceId pulumi.StringOutput `pulumi:"workspaceId"`
}

// NewWorkspaceTableCustomLog registers a new resource with the given unique name, arguments, and options.
func NewWorkspaceTableCustomLog(ctx *pulumi.Context,
	name string, args *WorkspaceTableCustomLogArgs, opts ...pulumi.ResourceOption) (*WorkspaceTableCustomLog, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.Columns == nil {
		return nil, errors.New("invalid value for required argument 'Columns'")
	}
	if args.WorkspaceId == nil {
		return nil, errors.New("invalid value for required argument 'WorkspaceId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource WorkspaceTableCustomLog
	err := ctx.RegisterResource("azure:loganalytics/workspaceTableCustomLog:WorkspaceTableCustomLog", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetWorkspaceTableCustomLog gets an existing WorkspaceTableCustomLog resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetWorkspaceTableCustomLog(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *WorkspaceTableCustomLogState, opts ...pulumi.ResourceOption) (*WorkspaceTableCustomLog, error) {
	var resource WorkspaceTableCustomLog
	err := ctx.ReadResource("azure:loganalytics/workspaceTableCustomLog:WorkspaceTableCustomLog", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering WorkspaceTableCustomLog resources.
type workspaceTableCustomLogState struct {
	// One or more `column` blocks as defined below.
	Columns []WorkspaceTableCustomLogColumn `pulumi:"columns"`
	// The description of the table.
	Description *string `pulumi:"description"`
	// The display name of the table.
	DisplayName *string `pulumi:"displayName"`
	// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
	//
	// > **Note:** `name` must end with `_CL`.
	Name *string `pulumi:"name"`
	// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
	//
	// > **Note:** Changing the table's `plan` is limited to once a week.
	Plan *string `pulumi:"plan"`
	// The table's retention in days. Possible values range between `4` and `730`.
	//
	// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
	RetentionInDays *int `pulumi:"retentionInDays"`
	// A list of solutions associated with the table.
	Solutions []string `pulumi:"solutions"`
	// One or more `standardColumn` blocks as defined below.
	StandardColumns []WorkspaceTableCustomLogStandardColumn `pulumi:"standardColumns"`
	// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
	TotalRetentionInDays *int `pulumi:"totalRetentionInDays"`
	// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
	WorkspaceId *string `pulumi:"workspaceId"`
}

type WorkspaceTableCustomLogState struct {
	// One or more `column` blocks as defined below.
	Columns WorkspaceTableCustomLogColumnArrayInput
	// The description of the table.
	Description pulumi.StringPtrInput
	// The display name of the table.
	DisplayName pulumi.StringPtrInput
	// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
	//
	// > **Note:** `name` must end with `_CL`.
	Name pulumi.StringPtrInput
	// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
	//
	// > **Note:** Changing the table's `plan` is limited to once a week.
	Plan pulumi.StringPtrInput
	// The table's retention in days. Possible values range between `4` and `730`.
	//
	// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
	RetentionInDays pulumi.IntPtrInput
	// A list of solutions associated with the table.
	Solutions pulumi.StringArrayInput
	// One or more `standardColumn` blocks as defined below.
	StandardColumns WorkspaceTableCustomLogStandardColumnArrayInput
	// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
	TotalRetentionInDays pulumi.IntPtrInput
	// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
	WorkspaceId pulumi.StringPtrInput
}

func (WorkspaceTableCustomLogState) ElementType() reflect.Type {
	return reflect.TypeOf((*workspaceTableCustomLogState)(nil)).Elem()
}

type workspaceTableCustomLogArgs struct {
	// One or more `column` blocks as defined below.
	Columns []WorkspaceTableCustomLogColumn `pulumi:"columns"`
	// The description of the table.
	Description *string `pulumi:"description"`
	// The display name of the table.
	DisplayName *string `pulumi:"displayName"`
	// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
	//
	// > **Note:** `name` must end with `_CL`.
	Name *string `pulumi:"name"`
	// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
	//
	// > **Note:** Changing the table's `plan` is limited to once a week.
	Plan *string `pulumi:"plan"`
	// The table's retention in days. Possible values range between `4` and `730`.
	//
	// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
	RetentionInDays *int `pulumi:"retentionInDays"`
	// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
	TotalRetentionInDays *int `pulumi:"totalRetentionInDays"`
	// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
	WorkspaceId string `pulumi:"workspaceId"`
}

// The set of arguments for constructing a WorkspaceTableCustomLog resource.
type WorkspaceTableCustomLogArgs struct {
	// One or more `column` blocks as defined below.
	Columns WorkspaceTableCustomLogColumnArrayInput
	// The description of the table.
	Description pulumi.StringPtrInput
	// The display name of the table.
	DisplayName pulumi.StringPtrInput
	// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
	//
	// > **Note:** `name` must end with `_CL`.
	Name pulumi.StringPtrInput
	// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
	//
	// > **Note:** Changing the table's `plan` is limited to once a week.
	Plan pulumi.StringPtrInput
	// The table's retention in days. Possible values range between `4` and `730`.
	//
	// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
	RetentionInDays pulumi.IntPtrInput
	// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
	TotalRetentionInDays pulumi.IntPtrInput
	// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
	WorkspaceId pulumi.StringInput
}

func (WorkspaceTableCustomLogArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*workspaceTableCustomLogArgs)(nil)).Elem()
}

type WorkspaceTableCustomLogInput interface {
	pulumi.Input

	ToWorkspaceTableCustomLogOutput() WorkspaceTableCustomLogOutput
	ToWorkspaceTableCustomLogOutputWithContext(ctx context.Context) WorkspaceTableCustomLogOutput
}

func (*WorkspaceTableCustomLog) ElementType() reflect.Type {
	return reflect.TypeOf((**WorkspaceTableCustomLog)(nil)).Elem()
}

func (i *WorkspaceTableCustomLog) ToWorkspaceTableCustomLogOutput() WorkspaceTableCustomLogOutput {
	return i.ToWorkspaceTableCustomLogOutputWithContext(context.Background())
}

func (i *WorkspaceTableCustomLog) ToWorkspaceTableCustomLogOutputWithContext(ctx context.Context) WorkspaceTableCustomLogOutput {
	return pulumi.ToOutputWithContext(ctx, i).(WorkspaceTableCustomLogOutput)
}

// WorkspaceTableCustomLogArrayInput is an input type that accepts WorkspaceTableCustomLogArray and WorkspaceTableCustomLogArrayOutput values.
// You can construct a concrete instance of `WorkspaceTableCustomLogArrayInput` via:
//
//	WorkspaceTableCustomLogArray{ WorkspaceTableCustomLogArgs{...} }
type WorkspaceTableCustomLogArrayInput interface {
	pulumi.Input

	ToWorkspaceTableCustomLogArrayOutput() WorkspaceTableCustomLogArrayOutput
	ToWorkspaceTableCustomLogArrayOutputWithContext(context.Context) WorkspaceTableCustomLogArrayOutput
}

type WorkspaceTableCustomLogArray []WorkspaceTableCustomLogInput

func (WorkspaceTableCustomLogArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*WorkspaceTableCustomLog)(nil)).Elem()
}

func (i WorkspaceTableCustomLogArray) ToWorkspaceTableCustomLogArrayOutput() WorkspaceTableCustomLogArrayOutput {
	return i.ToWorkspaceTableCustomLogArrayOutputWithContext(context.Background())
}

func (i WorkspaceTableCustomLogArray) ToWorkspaceTableCustomLogArrayOutputWithContext(ctx context.Context) WorkspaceTableCustomLogArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(WorkspaceTableCustomLogArrayOutput)
}

// WorkspaceTableCustomLogMapInput is an input type that accepts WorkspaceTableCustomLogMap and WorkspaceTableCustomLogMapOutput values.
// You can construct a concrete instance of `WorkspaceTableCustomLogMapInput` via:
//
//	WorkspaceTableCustomLogMap{ "key": WorkspaceTableCustomLogArgs{...} }
type WorkspaceTableCustomLogMapInput interface {
	pulumi.Input

	ToWorkspaceTableCustomLogMapOutput() WorkspaceTableCustomLogMapOutput
	ToWorkspaceTableCustomLogMapOutputWithContext(context.Context) WorkspaceTableCustomLogMapOutput
}

type WorkspaceTableCustomLogMap map[string]WorkspaceTableCustomLogInput

func (WorkspaceTableCustomLogMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*WorkspaceTableCustomLog)(nil)).Elem()
}

func (i WorkspaceTableCustomLogMap) ToWorkspaceTableCustomLogMapOutput() WorkspaceTableCustomLogMapOutput {
	return i.ToWorkspaceTableCustomLogMapOutputWithContext(context.Background())
}

func (i WorkspaceTableCustomLogMap) ToWorkspaceTableCustomLogMapOutputWithContext(ctx context.Context) WorkspaceTableCustomLogMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(WorkspaceTableCustomLogMapOutput)
}

type WorkspaceTableCustomLogOutput struct{ *pulumi.OutputState }

func (WorkspaceTableCustomLogOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**WorkspaceTableCustomLog)(nil)).Elem()
}

func (o WorkspaceTableCustomLogOutput) ToWorkspaceTableCustomLogOutput() WorkspaceTableCustomLogOutput {
	return o
}

func (o WorkspaceTableCustomLogOutput) ToWorkspaceTableCustomLogOutputWithContext(ctx context.Context) WorkspaceTableCustomLogOutput {
	return o
}

// One or more `column` blocks as defined below.
func (o WorkspaceTableCustomLogOutput) Columns() WorkspaceTableCustomLogColumnArrayOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) WorkspaceTableCustomLogColumnArrayOutput { return v.Columns }).(WorkspaceTableCustomLogColumnArrayOutput)
}

// The description of the table.
func (o WorkspaceTableCustomLogOutput) Description() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringPtrOutput { return v.Description }).(pulumi.StringPtrOutput)
}

// The display name of the table.
func (o WorkspaceTableCustomLogOutput) DisplayName() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringPtrOutput { return v.DisplayName }).(pulumi.StringPtrOutput)
}

// Specifies the name of the Log Analytics Workspace Table Custom Log. Changing this forces a new resource to be created.
//
// > **Note:** `name` must end with `_CL`.
func (o WorkspaceTableCustomLogOutput) Name() pulumi.StringOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringOutput { return v.Name }).(pulumi.StringOutput)
}

// Specify the system how to handle and charge the logs ingested to the table. Possible values are `Analytics` and `Basic`. Defaults to `Analytics`.
//
// > **Note:** Changing the table's `plan` is limited to once a week.
func (o WorkspaceTableCustomLogOutput) Plan() pulumi.StringPtrOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringPtrOutput { return v.Plan }).(pulumi.StringPtrOutput)
}

// The table's retention in days. Possible values range between `4` and `730`.
//
// > **Note:** `retentionInDays` cannot be set when `plan` is set to `Basic` because the retention is fixed.
func (o WorkspaceTableCustomLogOutput) RetentionInDays() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.IntPtrOutput { return v.RetentionInDays }).(pulumi.IntPtrOutput)
}

// A list of solutions associated with the table.
func (o WorkspaceTableCustomLogOutput) Solutions() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringArrayOutput { return v.Solutions }).(pulumi.StringArrayOutput)
}

// One or more `standardColumn` blocks as defined below.
func (o WorkspaceTableCustomLogOutput) StandardColumns() WorkspaceTableCustomLogStandardColumnArrayOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) WorkspaceTableCustomLogStandardColumnArrayOutput {
		return v.StandardColumns
	}).(WorkspaceTableCustomLogStandardColumnArrayOutput)
}

// The table's total retention in days. Possible values range between `4` and `730`; or `1095`, `1460`, `1826`, `2191`, `2556`, `2922`, `3288`, `3653`, `4018`, or `4383`.
func (o WorkspaceTableCustomLogOutput) TotalRetentionInDays() pulumi.IntPtrOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.IntPtrOutput { return v.TotalRetentionInDays }).(pulumi.IntPtrOutput)
}

// The object ID of the Log Analytics Workspace that contains the table. Changing this forces a new resource to be created.
func (o WorkspaceTableCustomLogOutput) WorkspaceId() pulumi.StringOutput {
	return o.ApplyT(func(v *WorkspaceTableCustomLog) pulumi.StringOutput { return v.WorkspaceId }).(pulumi.StringOutput)
}

type WorkspaceTableCustomLogArrayOutput struct{ *pulumi.OutputState }

func (WorkspaceTableCustomLogArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*WorkspaceTableCustomLog)(nil)).Elem()
}

func (o WorkspaceTableCustomLogArrayOutput) ToWorkspaceTableCustomLogArrayOutput() WorkspaceTableCustomLogArrayOutput {
	return o
}

func (o WorkspaceTableCustomLogArrayOutput) ToWorkspaceTableCustomLogArrayOutputWithContext(ctx context.Context) WorkspaceTableCustomLogArrayOutput {
	return o
}

func (o WorkspaceTableCustomLogArrayOutput) Index(i pulumi.IntInput) WorkspaceTableCustomLogOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *WorkspaceTableCustomLog {
		return vs[0].([]*WorkspaceTableCustomLog)[vs[1].(int)]
	}).(WorkspaceTableCustomLogOutput)
}

type WorkspaceTableCustomLogMapOutput struct{ *pulumi.OutputState }

func (WorkspaceTableCustomLogMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*WorkspaceTableCustomLog)(nil)).Elem()
}

func (o WorkspaceTableCustomLogMapOutput) ToWorkspaceTableCustomLogMapOutput() WorkspaceTableCustomLogMapOutput {
	return o
}

func (o WorkspaceTableCustomLogMapOutput) ToWorkspaceTableCustomLogMapOutputWithContext(ctx context.Context) WorkspaceTableCustomLogMapOutput {
	return o
}

func (o WorkspaceTableCustomLogMapOutput) MapIndex(k pulumi.StringInput) WorkspaceTableCustomLogOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *WorkspaceTableCustomLog {
		return vs[0].(map[string]*WorkspaceTableCustomLog)[vs[1].(string)]
	}).(WorkspaceTableCustomLogOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*WorkspaceTableCustomLogInput)(nil)).Elem(), &WorkspaceTableCustomLog{})
	pulumi.RegisterInputType(reflect.TypeOf((*WorkspaceTableCustomLogArrayInput)(nil)).Elem(), WorkspaceTableCustomLogArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*WorkspaceTableCustomLogMapInput)(nil)).Elem(), WorkspaceTableCustomLogMap{})
	pulumi.RegisterOutputType(WorkspaceTableCustomLogOutput{})
	pulumi.RegisterOutputType(WorkspaceTableCustomLogArrayOutput{})
	pulumi.RegisterOutputType(WorkspaceTableCustomLogMapOutput{})
}
