// Code generated by the Pulumi Terraform Bridge (tfgen) Tool DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package appservice

import (
	"context"
	"reflect"

	"errors"
	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// This certificate can be used to secure custom domains on App Services (Windows and Linux) hosted on an App Service Plan of Basic and above (free and shared tiers are not supported).
//
// > NOTE: A certificate is valid for six months, and about a month before the certificateâ€™s expiration date, App Services renews/rotates the certificate. This is managed by Azure and doesn't require this resource to be changed or reprovisioned. It will change the `thumbprint` computed attribute the next time the resource is refreshed after rotation occurs, so keep that in mind if you have any dependencies on this attribute directly.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/appservice"
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/core"
//	"github.com/pulumi/pulumi-azure/sdk/v5/go/azure/dns"
//	"github.com/pulumi/pulumi-std/sdk/go/std"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			exampleResourceGroup, err := core.NewResourceGroup(ctx, "example", &core.ResourceGroupArgs{
//				Name:     pulumi.String("example-resources"),
//				Location: pulumi.String("West Europe"),
//			})
//			if err != nil {
//				return err
//			}
//			example := dns.LookupZoneOutput(ctx, dns.GetZoneOutputArgs{
//				Name:              pulumi.String("mydomain.com"),
//				ResourceGroupName: exampleResourceGroup.Name,
//			}, nil)
//			examplePlan, err := appservice.NewPlan(ctx, "example", &appservice.PlanArgs{
//				Name:              pulumi.String("example-plan"),
//				Location:          exampleResourceGroup.Location,
//				ResourceGroupName: exampleResourceGroup.Name,
//				Kind:              pulumi.Any("Linux"),
//				Reserved:          pulumi.Bool(true),
//				Sku: &appservice.PlanSkuArgs{
//					Tier: pulumi.String("Basic"),
//					Size: pulumi.String("B1"),
//				},
//			})
//			if err != nil {
//				return err
//			}
//			exampleAppService, err := appservice.NewAppService(ctx, "example", &appservice.AppServiceArgs{
//				Name:              pulumi.String("example-app"),
//				Location:          exampleResourceGroup.Location,
//				ResourceGroupName: exampleResourceGroup.Name,
//				AppServicePlanId:  examplePlan.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = dns.NewTxtRecord(ctx, "example", &dns.TxtRecordArgs{
//				Name: pulumi.String("asuid.mycustomhost.contoso.com"),
//				ZoneName: pulumi.String(example.ApplyT(func(example dns.GetZoneResult) (*string, error) {
//					return &example.Name, nil
//				}).(pulumi.StringPtrOutput)),
//				ResourceGroupName: pulumi.String(example.ApplyT(func(example dns.GetZoneResult) (*string, error) {
//					return &example.ResourceGroupName, nil
//				}).(pulumi.StringPtrOutput)),
//				Ttl: pulumi.Int(300),
//				Records: dns.TxtRecordRecordArray{
//					&dns.TxtRecordRecordArgs{
//						Value: exampleAppService.CustomDomainVerificationId,
//					},
//				},
//			})
//			if err != nil {
//				return err
//			}
//			exampleCNameRecord, err := dns.NewCNameRecord(ctx, "example", &dns.CNameRecordArgs{
//				Name: pulumi.String("example-adcr"),
//				ZoneName: pulumi.String(example.ApplyT(func(example dns.GetZoneResult) (*string, error) {
//					return &example.Name, nil
//				}).(pulumi.StringPtrOutput)),
//				ResourceGroupName: pulumi.String(example.ApplyT(func(example dns.GetZoneResult) (*string, error) {
//					return &example.ResourceGroupName, nil
//				}).(pulumi.StringPtrOutput)),
//				Ttl:    pulumi.Int(300),
//				Record: exampleAppService.DefaultSiteHostname,
//			})
//			if err != nil {
//				return err
//			}
//			exampleCustomHostnameBinding, err := appservice.NewCustomHostnameBinding(ctx, "example", &appservice.CustomHostnameBindingArgs{
//				Hostname: pulumi.String(std.JoinOutput(ctx, std.JoinOutputArgs{
//					Separator: pulumi.String("."),
//					Input: pulumi.StringArray{
//						exampleCNameRecord.Name,
//						exampleCNameRecord.ZoneName,
//					},
//				}, nil).ApplyT(func(invoke std.JoinResult) (*string, error) {
//					return invoke.Result, nil
//				}).(pulumi.StringPtrOutput)),
//				AppServiceName:    exampleAppService.Name,
//				ResourceGroupName: exampleResourceGroup.Name,
//			})
//			if err != nil {
//				return err
//			}
//			exampleManagedCertificate, err := appservice.NewManagedCertificate(ctx, "example", &appservice.ManagedCertificateArgs{
//				CustomHostnameBindingId: exampleCustomHostnameBinding.ID(),
//			})
//			if err != nil {
//				return err
//			}
//			_, err = appservice.NewCertificateBinding(ctx, "example", &appservice.CertificateBindingArgs{
//				HostnameBindingId: exampleCustomHostnameBinding.ID(),
//				CertificateId:     exampleManagedCertificate.ID(),
//				SslState:          pulumi.String("SniEnabled"),
//			})
//			if err != nil {
//				return err
//			}
//			return nil
//		})
//	}
//
// ```
//
// ## Import
//
// App Service Managed Certificates can be imported using the `resource id`, e.g.
//
// ```sh
// $ pulumi import azure:appservice/managedCertificate:ManagedCertificate example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/resGroup1/providers/Microsoft.Web/certificates/customhost.contoso.com
// ```
type ManagedCertificate struct {
	pulumi.CustomResourceState

	// The Canonical Name of the Certificate.
	CanonicalName pulumi.StringOutput `pulumi:"canonicalName"`
	// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
	CustomHostnameBindingId pulumi.StringOutput `pulumi:"customHostnameBindingId"`
	// The expiration date of the Certificate.
	ExpirationDate pulumi.StringOutput `pulumi:"expirationDate"`
	// The friendly name of the Certificate.
	FriendlyName pulumi.StringOutput `pulumi:"friendlyName"`
	// The list of Host Names for the Certificate.
	HostNames pulumi.StringArrayOutput `pulumi:"hostNames"`
	// The Start date for the Certificate.
	IssueDate pulumi.StringOutput `pulumi:"issueDate"`
	// The issuer of the Certificate.
	Issuer pulumi.StringOutput `pulumi:"issuer"`
	// The Subject Name for the Certificate.
	SubjectName pulumi.StringOutput `pulumi:"subjectName"`
	// A mapping of tags which should be assigned to the App Service Managed Certificate.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// The Certificate Thumbprint.
	Thumbprint pulumi.StringOutput `pulumi:"thumbprint"`
}

// NewManagedCertificate registers a new resource with the given unique name, arguments, and options.
func NewManagedCertificate(ctx *pulumi.Context,
	name string, args *ManagedCertificateArgs, opts ...pulumi.ResourceOption) (*ManagedCertificate, error) {
	if args == nil {
		return nil, errors.New("missing one or more required arguments")
	}

	if args.CustomHostnameBindingId == nil {
		return nil, errors.New("invalid value for required argument 'CustomHostnameBindingId'")
	}
	opts = internal.PkgResourceDefaultOpts(opts)
	var resource ManagedCertificate
	err := ctx.RegisterResource("azure:appservice/managedCertificate:ManagedCertificate", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetManagedCertificate gets an existing ManagedCertificate resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetManagedCertificate(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ManagedCertificateState, opts ...pulumi.ResourceOption) (*ManagedCertificate, error) {
	var resource ManagedCertificate
	err := ctx.ReadResource("azure:appservice/managedCertificate:ManagedCertificate", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ManagedCertificate resources.
type managedCertificateState struct {
	// The Canonical Name of the Certificate.
	CanonicalName *string `pulumi:"canonicalName"`
	// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
	CustomHostnameBindingId *string `pulumi:"customHostnameBindingId"`
	// The expiration date of the Certificate.
	ExpirationDate *string `pulumi:"expirationDate"`
	// The friendly name of the Certificate.
	FriendlyName *string `pulumi:"friendlyName"`
	// The list of Host Names for the Certificate.
	HostNames []string `pulumi:"hostNames"`
	// The Start date for the Certificate.
	IssueDate *string `pulumi:"issueDate"`
	// The issuer of the Certificate.
	Issuer *string `pulumi:"issuer"`
	// The Subject Name for the Certificate.
	SubjectName *string `pulumi:"subjectName"`
	// A mapping of tags which should be assigned to the App Service Managed Certificate.
	Tags map[string]string `pulumi:"tags"`
	// The Certificate Thumbprint.
	Thumbprint *string `pulumi:"thumbprint"`
}

type ManagedCertificateState struct {
	// The Canonical Name of the Certificate.
	CanonicalName pulumi.StringPtrInput
	// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
	CustomHostnameBindingId pulumi.StringPtrInput
	// The expiration date of the Certificate.
	ExpirationDate pulumi.StringPtrInput
	// The friendly name of the Certificate.
	FriendlyName pulumi.StringPtrInput
	// The list of Host Names for the Certificate.
	HostNames pulumi.StringArrayInput
	// The Start date for the Certificate.
	IssueDate pulumi.StringPtrInput
	// The issuer of the Certificate.
	Issuer pulumi.StringPtrInput
	// The Subject Name for the Certificate.
	SubjectName pulumi.StringPtrInput
	// A mapping of tags which should be assigned to the App Service Managed Certificate.
	Tags pulumi.StringMapInput
	// The Certificate Thumbprint.
	Thumbprint pulumi.StringPtrInput
}

func (ManagedCertificateState) ElementType() reflect.Type {
	return reflect.TypeOf((*managedCertificateState)(nil)).Elem()
}

type managedCertificateArgs struct {
	// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
	CustomHostnameBindingId string `pulumi:"customHostnameBindingId"`
	// A mapping of tags which should be assigned to the App Service Managed Certificate.
	Tags map[string]string `pulumi:"tags"`
}

// The set of arguments for constructing a ManagedCertificate resource.
type ManagedCertificateArgs struct {
	// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
	CustomHostnameBindingId pulumi.StringInput
	// A mapping of tags which should be assigned to the App Service Managed Certificate.
	Tags pulumi.StringMapInput
}

func (ManagedCertificateArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*managedCertificateArgs)(nil)).Elem()
}

type ManagedCertificateInput interface {
	pulumi.Input

	ToManagedCertificateOutput() ManagedCertificateOutput
	ToManagedCertificateOutputWithContext(ctx context.Context) ManagedCertificateOutput
}

func (*ManagedCertificate) ElementType() reflect.Type {
	return reflect.TypeOf((**ManagedCertificate)(nil)).Elem()
}

func (i *ManagedCertificate) ToManagedCertificateOutput() ManagedCertificateOutput {
	return i.ToManagedCertificateOutputWithContext(context.Background())
}

func (i *ManagedCertificate) ToManagedCertificateOutputWithContext(ctx context.Context) ManagedCertificateOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagedCertificateOutput)
}

// ManagedCertificateArrayInput is an input type that accepts ManagedCertificateArray and ManagedCertificateArrayOutput values.
// You can construct a concrete instance of `ManagedCertificateArrayInput` via:
//
//	ManagedCertificateArray{ ManagedCertificateArgs{...} }
type ManagedCertificateArrayInput interface {
	pulumi.Input

	ToManagedCertificateArrayOutput() ManagedCertificateArrayOutput
	ToManagedCertificateArrayOutputWithContext(context.Context) ManagedCertificateArrayOutput
}

type ManagedCertificateArray []ManagedCertificateInput

func (ManagedCertificateArray) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ManagedCertificate)(nil)).Elem()
}

func (i ManagedCertificateArray) ToManagedCertificateArrayOutput() ManagedCertificateArrayOutput {
	return i.ToManagedCertificateArrayOutputWithContext(context.Background())
}

func (i ManagedCertificateArray) ToManagedCertificateArrayOutputWithContext(ctx context.Context) ManagedCertificateArrayOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagedCertificateArrayOutput)
}

// ManagedCertificateMapInput is an input type that accepts ManagedCertificateMap and ManagedCertificateMapOutput values.
// You can construct a concrete instance of `ManagedCertificateMapInput` via:
//
//	ManagedCertificateMap{ "key": ManagedCertificateArgs{...} }
type ManagedCertificateMapInput interface {
	pulumi.Input

	ToManagedCertificateMapOutput() ManagedCertificateMapOutput
	ToManagedCertificateMapOutputWithContext(context.Context) ManagedCertificateMapOutput
}

type ManagedCertificateMap map[string]ManagedCertificateInput

func (ManagedCertificateMap) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ManagedCertificate)(nil)).Elem()
}

func (i ManagedCertificateMap) ToManagedCertificateMapOutput() ManagedCertificateMapOutput {
	return i.ToManagedCertificateMapOutputWithContext(context.Background())
}

func (i ManagedCertificateMap) ToManagedCertificateMapOutputWithContext(ctx context.Context) ManagedCertificateMapOutput {
	return pulumi.ToOutputWithContext(ctx, i).(ManagedCertificateMapOutput)
}

type ManagedCertificateOutput struct{ *pulumi.OutputState }

func (ManagedCertificateOutput) ElementType() reflect.Type {
	return reflect.TypeOf((**ManagedCertificate)(nil)).Elem()
}

func (o ManagedCertificateOutput) ToManagedCertificateOutput() ManagedCertificateOutput {
	return o
}

func (o ManagedCertificateOutput) ToManagedCertificateOutputWithContext(ctx context.Context) ManagedCertificateOutput {
	return o
}

// The Canonical Name of the Certificate.
func (o ManagedCertificateOutput) CanonicalName() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.CanonicalName }).(pulumi.StringOutput)
}

// The ID of the App Service Custom Hostname Binding for the Certificate. Changing this forces a new App Service Managed Certificate to be created.
func (o ManagedCertificateOutput) CustomHostnameBindingId() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.CustomHostnameBindingId }).(pulumi.StringOutput)
}

// The expiration date of the Certificate.
func (o ManagedCertificateOutput) ExpirationDate() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.ExpirationDate }).(pulumi.StringOutput)
}

// The friendly name of the Certificate.
func (o ManagedCertificateOutput) FriendlyName() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.FriendlyName }).(pulumi.StringOutput)
}

// The list of Host Names for the Certificate.
func (o ManagedCertificateOutput) HostNames() pulumi.StringArrayOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringArrayOutput { return v.HostNames }).(pulumi.StringArrayOutput)
}

// The Start date for the Certificate.
func (o ManagedCertificateOutput) IssueDate() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.IssueDate }).(pulumi.StringOutput)
}

// The issuer of the Certificate.
func (o ManagedCertificateOutput) Issuer() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.Issuer }).(pulumi.StringOutput)
}

// The Subject Name for the Certificate.
func (o ManagedCertificateOutput) SubjectName() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.SubjectName }).(pulumi.StringOutput)
}

// A mapping of tags which should be assigned to the App Service Managed Certificate.
func (o ManagedCertificateOutput) Tags() pulumi.StringMapOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringMapOutput { return v.Tags }).(pulumi.StringMapOutput)
}

// The Certificate Thumbprint.
func (o ManagedCertificateOutput) Thumbprint() pulumi.StringOutput {
	return o.ApplyT(func(v *ManagedCertificate) pulumi.StringOutput { return v.Thumbprint }).(pulumi.StringOutput)
}

type ManagedCertificateArrayOutput struct{ *pulumi.OutputState }

func (ManagedCertificateArrayOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*[]*ManagedCertificate)(nil)).Elem()
}

func (o ManagedCertificateArrayOutput) ToManagedCertificateArrayOutput() ManagedCertificateArrayOutput {
	return o
}

func (o ManagedCertificateArrayOutput) ToManagedCertificateArrayOutputWithContext(ctx context.Context) ManagedCertificateArrayOutput {
	return o
}

func (o ManagedCertificateArrayOutput) Index(i pulumi.IntInput) ManagedCertificateOutput {
	return pulumi.All(o, i).ApplyT(func(vs []interface{}) *ManagedCertificate {
		return vs[0].([]*ManagedCertificate)[vs[1].(int)]
	}).(ManagedCertificateOutput)
}

type ManagedCertificateMapOutput struct{ *pulumi.OutputState }

func (ManagedCertificateMapOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*map[string]*ManagedCertificate)(nil)).Elem()
}

func (o ManagedCertificateMapOutput) ToManagedCertificateMapOutput() ManagedCertificateMapOutput {
	return o
}

func (o ManagedCertificateMapOutput) ToManagedCertificateMapOutputWithContext(ctx context.Context) ManagedCertificateMapOutput {
	return o
}

func (o ManagedCertificateMapOutput) MapIndex(k pulumi.StringInput) ManagedCertificateOutput {
	return pulumi.All(o, k).ApplyT(func(vs []interface{}) *ManagedCertificate {
		return vs[0].(map[string]*ManagedCertificate)[vs[1].(string)]
	}).(ManagedCertificateOutput)
}

func init() {
	pulumi.RegisterInputType(reflect.TypeOf((*ManagedCertificateInput)(nil)).Elem(), &ManagedCertificate{})
	pulumi.RegisterInputType(reflect.TypeOf((*ManagedCertificateArrayInput)(nil)).Elem(), ManagedCertificateArray{})
	pulumi.RegisterInputType(reflect.TypeOf((*ManagedCertificateMapInput)(nil)).Elem(), ManagedCertificateMap{})
	pulumi.RegisterOutputType(ManagedCertificateOutput{})
	pulumi.RegisterOutputType(ManagedCertificateArrayOutput{})
	pulumi.RegisterOutputType(ManagedCertificateMapOutput{})
}
