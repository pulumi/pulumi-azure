// Code generated by pulumi-language-go DO NOT EDIT.
// *** WARNING: Do not edit by hand unless you're certain you know what you are doing! ***

package pim

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/internal"
	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
)

// Use this data source to access information about existing Role Assignments.
//
// ## Example Usage
//
// ```go
// package main
//
// import (
//
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/core"
//	"github.com/pulumi/pulumi-azure/sdk/v6/go/azure/pim"
//	"github.com/pulumi/pulumi/sdk/v3/go/pulumi"
//
// )
//
//	func main() {
//		pulumi.Run(func(ctx *pulumi.Context) error {
//			exampleResourceGroup, err := core.NewResourceGroup(ctx, "example", &core.ResourceGroupArgs{
//				Name:     pulumi.String("example"),
//				Location: pulumi.String("West Europe"),
//			})
//			if err != nil {
//				return err
//			}
//			example := pim.GetRoleAssignmentsOutput(ctx, pim.GetRoleAssignmentsOutputArgs{
//				Scope: exampleResourceGroup.ID(),
//			}, nil)
//			ctx.Export("id", example.ApplyT(func(example pim.GetRoleAssignmentsResult) ([]pim.GetRoleAssignmentsRoleAssignment, error) {
//				return []pim.GetRoleAssignmentsRoleAssignment(example.RoleAssignments), nil
//			}).([]pim.GetRoleAssignmentsRoleAssignmentOutput))
//			return nil
//		})
//	}
//
// ```
//
// ## API Providers
//
// <!-- This section is generated, changes will be overwritten -->
// This data source uses the following Azure API Providers:
//
// * `Microsoft.Authorization` - 2022-04-01
func GetRoleAssignments(ctx *pulumi.Context, args *GetRoleAssignmentsArgs, opts ...pulumi.InvokeOption) (*GetRoleAssignmentsResult, error) {
	opts = internal.PkgInvokeDefaultOpts(opts)
	var rv GetRoleAssignmentsResult
	err := ctx.Invoke("azure:pim/getRoleAssignments:getRoleAssignments", args, &rv, opts...)
	if err != nil {
		return nil, err
	}
	return &rv, nil
}

// A collection of arguments for invoking getRoleAssignments.
type GetRoleAssignmentsArgs struct {
	// Whether to limit the result exactly at the specified scope and not above or below it. Defaults to `false`.
	LimitAtScope *bool `pulumi:"limitAtScope"`
	// The principal ID to filter the list of Role Assignments against.
	PrincipalId *string `pulumi:"principalId"`
	// The scope at which to list Role Assignments.
	Scope string `pulumi:"scope"`
	// The tenant ID for cross-tenant requests.
	TenantId *string `pulumi:"tenantId"`
}

// A collection of values returned by getRoleAssignments.
type GetRoleAssignmentsResult struct {
	// The provider-assigned unique ID for this managed resource.
	Id           string `pulumi:"id"`
	LimitAtScope *bool  `pulumi:"limitAtScope"`
	// The principal ID.
	PrincipalId *string `pulumi:"principalId"`
	// A `roleAssignments` block as defined below.
	RoleAssignments []GetRoleAssignmentsRoleAssignment `pulumi:"roleAssignments"`
	Scope           string                             `pulumi:"scope"`
	TenantId        *string                            `pulumi:"tenantId"`
}

func GetRoleAssignmentsOutput(ctx *pulumi.Context, args GetRoleAssignmentsOutputArgs, opts ...pulumi.InvokeOption) GetRoleAssignmentsResultOutput {
	return pulumi.ToOutputWithContext(ctx.Context(), args).
		ApplyT(func(v interface{}) (GetRoleAssignmentsResultOutput, error) {
			args := v.(GetRoleAssignmentsArgs)
			options := pulumi.InvokeOutputOptions{InvokeOptions: internal.PkgInvokeDefaultOpts(opts)}
			return ctx.InvokeOutput("azure:pim/getRoleAssignments:getRoleAssignments", args, GetRoleAssignmentsResultOutput{}, options).(GetRoleAssignmentsResultOutput), nil
		}).(GetRoleAssignmentsResultOutput)
}

// A collection of arguments for invoking getRoleAssignments.
type GetRoleAssignmentsOutputArgs struct {
	// Whether to limit the result exactly at the specified scope and not above or below it. Defaults to `false`.
	LimitAtScope pulumi.BoolPtrInput `pulumi:"limitAtScope"`
	// The principal ID to filter the list of Role Assignments against.
	PrincipalId pulumi.StringPtrInput `pulumi:"principalId"`
	// The scope at which to list Role Assignments.
	Scope pulumi.StringInput `pulumi:"scope"`
	// The tenant ID for cross-tenant requests.
	TenantId pulumi.StringPtrInput `pulumi:"tenantId"`
}

func (GetRoleAssignmentsOutputArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*GetRoleAssignmentsArgs)(nil)).Elem()
}

// A collection of values returned by getRoleAssignments.
type GetRoleAssignmentsResultOutput struct{ *pulumi.OutputState }

func (GetRoleAssignmentsResultOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*GetRoleAssignmentsResult)(nil)).Elem()
}

func (o GetRoleAssignmentsResultOutput) ToGetRoleAssignmentsResultOutput() GetRoleAssignmentsResultOutput {
	return o
}

func (o GetRoleAssignmentsResultOutput) ToGetRoleAssignmentsResultOutputWithContext(ctx context.Context) GetRoleAssignmentsResultOutput {
	return o
}

// The provider-assigned unique ID for this managed resource.
func (o GetRoleAssignmentsResultOutput) Id() pulumi.StringOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) string { return v.Id }).(pulumi.StringOutput)
}

func (o GetRoleAssignmentsResultOutput) LimitAtScope() pulumi.BoolPtrOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) *bool { return v.LimitAtScope }).(pulumi.BoolPtrOutput)
}

// The principal ID.
func (o GetRoleAssignmentsResultOutput) PrincipalId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) *string { return v.PrincipalId }).(pulumi.StringPtrOutput)
}

// A `roleAssignments` block as defined below.
func (o GetRoleAssignmentsResultOutput) RoleAssignments() GetRoleAssignmentsRoleAssignmentArrayOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) []GetRoleAssignmentsRoleAssignment { return v.RoleAssignments }).(GetRoleAssignmentsRoleAssignmentArrayOutput)
}

func (o GetRoleAssignmentsResultOutput) Scope() pulumi.StringOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) string { return v.Scope }).(pulumi.StringOutput)
}

func (o GetRoleAssignmentsResultOutput) TenantId() pulumi.StringPtrOutput {
	return o.ApplyT(func(v GetRoleAssignmentsResult) *string { return v.TenantId }).(pulumi.StringPtrOutput)
}

func init() {
	pulumi.RegisterOutputType(GetRoleAssignmentsResultOutput{})
}
