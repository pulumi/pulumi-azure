// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

// nolint: lll
package recoveryservices

import (
	"reflect"

	"github.com/pkg/errors"
	"github.com/pulumi/pulumi/sdk/go/pulumi"
)

// > **NOTE:** This resource has been deprecated in favour of the `backup.PolicyVM` resource and will be removed in the next major version of the AzureRM Provider. The new resource shares the same fields as this one, and information on migrating across can be found in this guide.
// 
// Manages an Recovery Services VM Protection Policy.
// 
// > This content is derived from https://github.com/terraform-providers/terraform-provider-azurerm/blob/master/website/docs/r/recovery_services_protection_policy_vm.html.markdown.
type ProtectionPolicyVM struct {
	pulumi.CustomResourceState

	// Configures the Policy backup frequecent, times & days as documented in the `backup` block below. 
	Backup ProtectionPolicyVMBackupOutput `pulumi:"backup"`
	// Specifies the name of the Recovery Services Vault Policy. Changing this forces a new resource to be created.
	Name pulumi.StringOutput `pulumi:"name"`
	// Specifies the name of the Recovery Services Vault to use. Changing this forces a new resource to be created.
	RecoveryVaultName pulumi.StringOutput `pulumi:"recoveryVaultName"`
	// The name of the resource group in which to create the Recovery Services Protected VM. Changing this forces a new resource to be created.
	ResourceGroupName pulumi.StringOutput `pulumi:"resourceGroupName"`
	// Configures the policy daily retention as documented in the `retentionDaily` block below. Required when backup frequency is `Daily`.
	RetentionDaily ProtectionPolicyVMRetentionDailyPtrOutput `pulumi:"retentionDaily"`
	// Configures the policy monthly retention as documented in the `retentionMonthly` block below.
	RetentionMonthly ProtectionPolicyVMRetentionMonthlyPtrOutput `pulumi:"retentionMonthly"`
	// Configures the policy weekly retention as documented in the `retentionWeekly` block below. Required when backup frequency is `Weekly`.
	RetentionWeekly ProtectionPolicyVMRetentionWeeklyPtrOutput `pulumi:"retentionWeekly"`
	// Configures the policy yearly retention as documented in the `retentionYearly` block below.
	RetentionYearly ProtectionPolicyVMRetentionYearlyPtrOutput `pulumi:"retentionYearly"`
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapOutput `pulumi:"tags"`
	// Specifies the timezone. Defaults to `UTC`
	Timezone pulumi.StringPtrOutput `pulumi:"timezone"`
}

// NewProtectionPolicyVM registers a new resource with the given unique name, arguments, and options.
func NewProtectionPolicyVM(ctx *pulumi.Context,
	name string, args *ProtectionPolicyVMArgs, opts ...pulumi.ResourceOption) (*ProtectionPolicyVM, error) {
	if args == nil || args.Backup == nil {
		return nil, errors.New("missing required argument 'Backup'")
	}
	if args == nil || args.RecoveryVaultName == nil {
		return nil, errors.New("missing required argument 'RecoveryVaultName'")
	}
	if args == nil || args.ResourceGroupName == nil {
		return nil, errors.New("missing required argument 'ResourceGroupName'")
	}
	if args == nil {
		args = &ProtectionPolicyVMArgs{}
	}
	var resource ProtectionPolicyVM
	err := ctx.RegisterResource("azure:recoveryservices/protectionPolicyVM:ProtectionPolicyVM", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProtectionPolicyVM gets an existing ProtectionPolicyVM resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProtectionPolicyVM(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *ProtectionPolicyVMState, opts ...pulumi.ResourceOption) (*ProtectionPolicyVM, error) {
	var resource ProtectionPolicyVM
	err := ctx.ReadResource("azure:recoveryservices/protectionPolicyVM:ProtectionPolicyVM", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering ProtectionPolicyVM resources.
type protectionPolicyVMState struct {
	// Configures the Policy backup frequecent, times & days as documented in the `backup` block below. 
	Backup *ProtectionPolicyVMBackup `pulumi:"backup"`
	// Specifies the name of the Recovery Services Vault Policy. Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// Specifies the name of the Recovery Services Vault to use. Changing this forces a new resource to be created.
	RecoveryVaultName *string `pulumi:"recoveryVaultName"`
	// The name of the resource group in which to create the Recovery Services Protected VM. Changing this forces a new resource to be created.
	ResourceGroupName *string `pulumi:"resourceGroupName"`
	// Configures the policy daily retention as documented in the `retentionDaily` block below. Required when backup frequency is `Daily`.
	RetentionDaily *ProtectionPolicyVMRetentionDaily `pulumi:"retentionDaily"`
	// Configures the policy monthly retention as documented in the `retentionMonthly` block below.
	RetentionMonthly *ProtectionPolicyVMRetentionMonthly `pulumi:"retentionMonthly"`
	// Configures the policy weekly retention as documented in the `retentionWeekly` block below. Required when backup frequency is `Weekly`.
	RetentionWeekly *ProtectionPolicyVMRetentionWeekly `pulumi:"retentionWeekly"`
	// Configures the policy yearly retention as documented in the `retentionYearly` block below.
	RetentionYearly *ProtectionPolicyVMRetentionYearly `pulumi:"retentionYearly"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// Specifies the timezone. Defaults to `UTC`
	Timezone *string `pulumi:"timezone"`
}

type ProtectionPolicyVMState struct {
	// Configures the Policy backup frequecent, times & days as documented in the `backup` block below. 
	Backup ProtectionPolicyVMBackupPtrInput
	// Specifies the name of the Recovery Services Vault Policy. Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// Specifies the name of the Recovery Services Vault to use. Changing this forces a new resource to be created.
	RecoveryVaultName pulumi.StringPtrInput
	// The name of the resource group in which to create the Recovery Services Protected VM. Changing this forces a new resource to be created.
	ResourceGroupName pulumi.StringPtrInput
	// Configures the policy daily retention as documented in the `retentionDaily` block below. Required when backup frequency is `Daily`.
	RetentionDaily ProtectionPolicyVMRetentionDailyPtrInput
	// Configures the policy monthly retention as documented in the `retentionMonthly` block below.
	RetentionMonthly ProtectionPolicyVMRetentionMonthlyPtrInput
	// Configures the policy weekly retention as documented in the `retentionWeekly` block below. Required when backup frequency is `Weekly`.
	RetentionWeekly ProtectionPolicyVMRetentionWeeklyPtrInput
	// Configures the policy yearly retention as documented in the `retentionYearly` block below.
	RetentionYearly ProtectionPolicyVMRetentionYearlyPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// Specifies the timezone. Defaults to `UTC`
	Timezone pulumi.StringPtrInput
}

func (ProtectionPolicyVMState) ElementType() reflect.Type {
	return reflect.TypeOf((*protectionPolicyVMState)(nil)).Elem()
}

type protectionPolicyVMArgs struct {
	// Configures the Policy backup frequecent, times & days as documented in the `backup` block below. 
	Backup ProtectionPolicyVMBackup `pulumi:"backup"`
	// Specifies the name of the Recovery Services Vault Policy. Changing this forces a new resource to be created.
	Name *string `pulumi:"name"`
	// Specifies the name of the Recovery Services Vault to use. Changing this forces a new resource to be created.
	RecoveryVaultName string `pulumi:"recoveryVaultName"`
	// The name of the resource group in which to create the Recovery Services Protected VM. Changing this forces a new resource to be created.
	ResourceGroupName string `pulumi:"resourceGroupName"`
	// Configures the policy daily retention as documented in the `retentionDaily` block below. Required when backup frequency is `Daily`.
	RetentionDaily *ProtectionPolicyVMRetentionDaily `pulumi:"retentionDaily"`
	// Configures the policy monthly retention as documented in the `retentionMonthly` block below.
	RetentionMonthly *ProtectionPolicyVMRetentionMonthly `pulumi:"retentionMonthly"`
	// Configures the policy weekly retention as documented in the `retentionWeekly` block below. Required when backup frequency is `Weekly`.
	RetentionWeekly *ProtectionPolicyVMRetentionWeekly `pulumi:"retentionWeekly"`
	// Configures the policy yearly retention as documented in the `retentionYearly` block below.
	RetentionYearly *ProtectionPolicyVMRetentionYearly `pulumi:"retentionYearly"`
	// A mapping of tags to assign to the resource.
	Tags map[string]string `pulumi:"tags"`
	// Specifies the timezone. Defaults to `UTC`
	Timezone *string `pulumi:"timezone"`
}

// The set of arguments for constructing a ProtectionPolicyVM resource.
type ProtectionPolicyVMArgs struct {
	// Configures the Policy backup frequecent, times & days as documented in the `backup` block below. 
	Backup ProtectionPolicyVMBackupInput
	// Specifies the name of the Recovery Services Vault Policy. Changing this forces a new resource to be created.
	Name pulumi.StringPtrInput
	// Specifies the name of the Recovery Services Vault to use. Changing this forces a new resource to be created.
	RecoveryVaultName pulumi.StringInput
	// The name of the resource group in which to create the Recovery Services Protected VM. Changing this forces a new resource to be created.
	ResourceGroupName pulumi.StringInput
	// Configures the policy daily retention as documented in the `retentionDaily` block below. Required when backup frequency is `Daily`.
	RetentionDaily ProtectionPolicyVMRetentionDailyPtrInput
	// Configures the policy monthly retention as documented in the `retentionMonthly` block below.
	RetentionMonthly ProtectionPolicyVMRetentionMonthlyPtrInput
	// Configures the policy weekly retention as documented in the `retentionWeekly` block below. Required when backup frequency is `Weekly`.
	RetentionWeekly ProtectionPolicyVMRetentionWeeklyPtrInput
	// Configures the policy yearly retention as documented in the `retentionYearly` block below.
	RetentionYearly ProtectionPolicyVMRetentionYearlyPtrInput
	// A mapping of tags to assign to the resource.
	Tags pulumi.StringMapInput
	// Specifies the timezone. Defaults to `UTC`
	Timezone pulumi.StringPtrInput
}

func (ProtectionPolicyVMArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*protectionPolicyVMArgs)(nil)).Elem()
}

