// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Azure.StreamAnalytics
{
    /// <summary>
    /// Manages a Stream Analytics Job.
    /// 
    /// ## Example Usage
    /// 
    /// ```csharp
    /// using System.Collections.Generic;
    /// using System.Linq;
    /// using Pulumi;
    /// using Azure = Pulumi.Azure;
    /// 
    /// return await Deployment.RunAsync(() =&gt; 
    /// {
    ///     var example = new Azure.Core.ResourceGroup("example", new()
    ///     {
    ///         Name = "example-resources",
    ///         Location = "West Europe",
    ///     });
    /// 
    ///     var exampleJob = new Azure.StreamAnalytics.Job("example", new()
    ///     {
    ///         Name = "example-job",
    ///         ResourceGroupName = example.Name,
    ///         Location = example.Location,
    ///         CompatibilityLevel = "1.2",
    ///         DataLocale = "en-GB",
    ///         EventsLateArrivalMaxDelayInSeconds = 60,
    ///         EventsOutOfOrderMaxDelayInSeconds = 50,
    ///         EventsOutOfOrderPolicy = "Adjust",
    ///         OutputErrorPolicy = "Drop",
    ///         StreamingUnits = 3,
    ///         SkuName = "StandardV2",
    ///         Tags = 
    ///         {
    ///             { "environment", "Example" },
    ///         },
    ///         TransformationQuery = @"    SELECT *
    ///     INTO [YourOutputAlias]
    ///     FROM [YourInputAlias]
    /// ",
    ///     });
    /// 
    /// });
    /// ```
    /// 
    /// ## API Providers
    /// 
    /// &lt;!-- This section is generated, changes will be overwritten --&gt;
    /// This resource uses the following Azure API Providers:
    /// 
    /// * `Microsoft.StreamAnalytics` - 2021-10-01-preview, 2020-03-01
    /// 
    /// ## Import
    /// 
    /// Stream Analytics Job's can be imported using the `resource id`, e.g.
    /// 
    /// ```sh
    /// $ pulumi import azure:streamanalytics/job:Job example /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/group1/providers/Microsoft.StreamAnalytics/streamingJobs/job1
    /// ```
    /// </summary>
    [AzureResourceType("azure:streamanalytics/job:Job")]
    public partial class Job : global::Pulumi.CustomResource
    {
        /// <summary>
        /// Specifies the compatibility level for this job - which controls certain runtime behaviours of the streaming job. Possible values are `1.0`, `1.1` and `1.2`.
        /// 
        /// &gt; **Note:** Support for Compatibility Level 1.2 is dependent on a new version of the Stream Analytics API, which [being tracked in this issue](https://github.com/Azure/azure-rest-api-specs/issues/5604).
        /// </summary>
        [Output("compatibilityLevel")]
        public Output<string> CompatibilityLevel { get; private set; } = null!;

        /// <summary>
        /// The policy for storing stream analytics content. Possible values are `JobStorageAccount`, `SystemAccount`. Defaults to `SystemAccount`.
        /// </summary>
        [Output("contentStoragePolicy")]
        public Output<string?> ContentStoragePolicy { get; private set; } = null!;

        /// <summary>
        /// Specifies the Data Locale of the Job, which [should be a supported .NET Culture](https://msdn.microsoft.com/en-us/library/system.globalization.culturetypes(v=vs.110).aspx). Defaults to `en-US`.
        /// </summary>
        [Output("dataLocale")]
        public Output<string?> DataLocale { get; private set; } = null!;

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where events arriving late could be included. Supported range is `-1` (indefinite) to `1814399` (20d 23h 59m 59s). Default is `5`.
        /// </summary>
        [Output("eventsLateArrivalMaxDelayInSeconds")]
        public Output<int?> EventsLateArrivalMaxDelayInSeconds { get; private set; } = null!;

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where out-of-order events can be adjusted to be back in order. Supported range is `0` to `599` (9m 59s). Default is `0`.
        /// </summary>
        [Output("eventsOutOfOrderMaxDelayInSeconds")]
        public Output<int?> EventsOutOfOrderMaxDelayInSeconds { get; private set; } = null!;

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive out of order in the input event stream. Possible values are `Adjust` and `Drop`. Default is `Adjust`.
        /// </summary>
        [Output("eventsOutOfOrderPolicy")]
        public Output<string?> EventsOutOfOrderPolicy { get; private set; } = null!;

        /// <summary>
        /// An `Identity` block as defined below.
        /// </summary>
        [Output("identity")]
        public Output<Outputs.JobIdentity?> Identity { get; private set; } = null!;

        /// <summary>
        /// The Job ID assigned by the Stream Analytics Job.
        /// </summary>
        [Output("jobId")]
        public Output<string> JobId { get; private set; } = null!;

        /// <summary>
        /// The details of the job storage account. A `JobStorageAccount` block as defined below.
        /// 
        /// &gt; **Note:** `ContentStoragePolicy` must be set to `JobStorageAccount` when specifying `JobStorageAccount`.
        /// </summary>
        [Output("jobStorageAccounts")]
        public Output<ImmutableArray<Outputs.JobJobStorageAccount>> JobStorageAccounts { get; private set; } = null!;

        /// <summary>
        /// The Azure Region in which the Resource Group exists. Changing this forces a new resource to be created.
        /// </summary>
        [Output("location")]
        public Output<string> Location { get; private set; } = null!;

        /// <summary>
        /// The name of the Stream Analytics Job. Changing this forces a new resource to be created.
        /// </summary>
        [Output("name")]
        public Output<string> Name { get; private set; } = null!;

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive at the output and cannot be written to the external storage due to being malformed (such as missing column values, column values of wrong type or size). Possible values are `Drop` and `Stop`. Default is `Drop`.
        /// </summary>
        [Output("outputErrorPolicy")]
        public Output<string?> OutputErrorPolicy { get; private set; } = null!;

        /// <summary>
        /// The name of the Resource Group where the Stream Analytics Job should exist. Changing this forces a new resource to be created.
        /// </summary>
        [Output("resourceGroupName")]
        public Output<string> ResourceGroupName { get; private set; } = null!;

        /// <summary>
        /// The SKU Name to use for the Stream Analytics Job. Possible values are `Standard`, `StandardV2`. Defaults to `Standard`.
        /// </summary>
        [Output("skuName")]
        public Output<string?> SkuName { get; private set; } = null!;

        /// <summary>
        /// The ID of an existing Stream Analytics Cluster where the Stream Analytics Job should run.
        /// </summary>
        [Output("streamAnalyticsClusterId")]
        public Output<string?> StreamAnalyticsClusterId { get; private set; } = null!;

        /// <summary>
        /// Specifies the number of streaming units that the streaming job uses. Supported values are `1`, `3`, `6` and multiples of `6` up to `120`. A conversion table for V2 streaming units can be found [here](https://learn.microsoft.com/azure/stream-analytics/stream-analytics-streaming-unit-consumption#understand-streaming-unit-conversions-and-where-they-apply)
        /// 
        /// &gt; **Note:** `StreamingUnits` must be set when `Type` is `Cloud`.
        /// </summary>
        [Output("streamingUnits")]
        public Output<int?> StreamingUnits { get; private set; } = null!;

        [Output("tags")]
        public Output<ImmutableDictionary<string, string>?> Tags { get; private set; } = null!;

        [Output("transformationQuery")]
        public Output<string> TransformationQuery { get; private set; } = null!;

        /// <summary>
        /// The type of the Stream Analytics Job. Possible values are `Cloud` and `Edge`. Defaults to `Cloud`. Changing this forces a new resource to be created.
        /// 
        /// &gt; **Note:** `Edge` doesn't support `StreamAnalyticsClusterId` and `StreamingUnits`.
        /// </summary>
        [Output("type")]
        public Output<string?> Type { get; private set; } = null!;


        /// <summary>
        /// Create a Job resource with the given unique name, arguments, and options.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resource</param>
        /// <param name="args">The arguments used to populate this resource's properties</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public Job(string name, JobArgs args, CustomResourceOptions? options = null)
            : base("azure:streamanalytics/job:Job", name, args ?? new JobArgs(), MakeResourceOptions(options, ""))
        {
        }

        private Job(string name, Input<string> id, JobState? state = null, CustomResourceOptions? options = null)
            : base("azure:streamanalytics/job:Job", name, state, MakeResourceOptions(options, id))
        {
        }

        private static CustomResourceOptions MakeResourceOptions(CustomResourceOptions? options, Input<string>? id)
        {
            var defaultOptions = new CustomResourceOptions
            {
                Version = Utilities.Version,
            };
            var merged = CustomResourceOptions.Merge(defaultOptions, options);
            // Override the ID if one was specified for consistency with other language SDKs.
            merged.Id = id ?? merged.Id;
            return merged;
        }
        /// <summary>
        /// Get an existing Job resource's state with the given name, ID, and optional extra
        /// properties used to qualify the lookup.
        /// </summary>
        ///
        /// <param name="name">The unique name of the resulting resource.</param>
        /// <param name="id">The unique provider ID of the resource to lookup.</param>
        /// <param name="state">Any extra arguments used during the lookup.</param>
        /// <param name="options">A bag of options that control this resource's behavior</param>
        public static Job Get(string name, Input<string> id, JobState? state = null, CustomResourceOptions? options = null)
        {
            return new Job(name, id, state, options);
        }
    }

    public sealed class JobArgs : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies the compatibility level for this job - which controls certain runtime behaviours of the streaming job. Possible values are `1.0`, `1.1` and `1.2`.
        /// 
        /// &gt; **Note:** Support for Compatibility Level 1.2 is dependent on a new version of the Stream Analytics API, which [being tracked in this issue](https://github.com/Azure/azure-rest-api-specs/issues/5604).
        /// </summary>
        [Input("compatibilityLevel")]
        public Input<string>? CompatibilityLevel { get; set; }

        /// <summary>
        /// The policy for storing stream analytics content. Possible values are `JobStorageAccount`, `SystemAccount`. Defaults to `SystemAccount`.
        /// </summary>
        [Input("contentStoragePolicy")]
        public Input<string>? ContentStoragePolicy { get; set; }

        /// <summary>
        /// Specifies the Data Locale of the Job, which [should be a supported .NET Culture](https://msdn.microsoft.com/en-us/library/system.globalization.culturetypes(v=vs.110).aspx). Defaults to `en-US`.
        /// </summary>
        [Input("dataLocale")]
        public Input<string>? DataLocale { get; set; }

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where events arriving late could be included. Supported range is `-1` (indefinite) to `1814399` (20d 23h 59m 59s). Default is `5`.
        /// </summary>
        [Input("eventsLateArrivalMaxDelayInSeconds")]
        public Input<int>? EventsLateArrivalMaxDelayInSeconds { get; set; }

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where out-of-order events can be adjusted to be back in order. Supported range is `0` to `599` (9m 59s). Default is `0`.
        /// </summary>
        [Input("eventsOutOfOrderMaxDelayInSeconds")]
        public Input<int>? EventsOutOfOrderMaxDelayInSeconds { get; set; }

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive out of order in the input event stream. Possible values are `Adjust` and `Drop`. Default is `Adjust`.
        /// </summary>
        [Input("eventsOutOfOrderPolicy")]
        public Input<string>? EventsOutOfOrderPolicy { get; set; }

        /// <summary>
        /// An `Identity` block as defined below.
        /// </summary>
        [Input("identity")]
        public Input<Inputs.JobIdentityArgs>? Identity { get; set; }

        [Input("jobStorageAccounts")]
        private InputList<Inputs.JobJobStorageAccountArgs>? _jobStorageAccounts;

        /// <summary>
        /// The details of the job storage account. A `JobStorageAccount` block as defined below.
        /// 
        /// &gt; **Note:** `ContentStoragePolicy` must be set to `JobStorageAccount` when specifying `JobStorageAccount`.
        /// </summary>
        public InputList<Inputs.JobJobStorageAccountArgs> JobStorageAccounts
        {
            get => _jobStorageAccounts ?? (_jobStorageAccounts = new InputList<Inputs.JobJobStorageAccountArgs>());
            set => _jobStorageAccounts = value;
        }

        /// <summary>
        /// The Azure Region in which the Resource Group exists. Changing this forces a new resource to be created.
        /// </summary>
        [Input("location")]
        public Input<string>? Location { get; set; }

        /// <summary>
        /// The name of the Stream Analytics Job. Changing this forces a new resource to be created.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive at the output and cannot be written to the external storage due to being malformed (such as missing column values, column values of wrong type or size). Possible values are `Drop` and `Stop`. Default is `Drop`.
        /// </summary>
        [Input("outputErrorPolicy")]
        public Input<string>? OutputErrorPolicy { get; set; }

        /// <summary>
        /// The name of the Resource Group where the Stream Analytics Job should exist. Changing this forces a new resource to be created.
        /// </summary>
        [Input("resourceGroupName", required: true)]
        public Input<string> ResourceGroupName { get; set; } = null!;

        /// <summary>
        /// The SKU Name to use for the Stream Analytics Job. Possible values are `Standard`, `StandardV2`. Defaults to `Standard`.
        /// </summary>
        [Input("skuName")]
        public Input<string>? SkuName { get; set; }

        /// <summary>
        /// The ID of an existing Stream Analytics Cluster where the Stream Analytics Job should run.
        /// </summary>
        [Input("streamAnalyticsClusterId")]
        public Input<string>? StreamAnalyticsClusterId { get; set; }

        /// <summary>
        /// Specifies the number of streaming units that the streaming job uses. Supported values are `1`, `3`, `6` and multiples of `6` up to `120`. A conversion table for V2 streaming units can be found [here](https://learn.microsoft.com/azure/stream-analytics/stream-analytics-streaming-unit-consumption#understand-streaming-unit-conversions-and-where-they-apply)
        /// 
        /// &gt; **Note:** `StreamingUnits` must be set when `Type` is `Cloud`.
        /// </summary>
        [Input("streamingUnits")]
        public Input<int>? StreamingUnits { get; set; }

        [Input("tags")]
        private InputMap<string>? _tags;
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        [Input("transformationQuery", required: true)]
        public Input<string> TransformationQuery { get; set; } = null!;

        /// <summary>
        /// The type of the Stream Analytics Job. Possible values are `Cloud` and `Edge`. Defaults to `Cloud`. Changing this forces a new resource to be created.
        /// 
        /// &gt; **Note:** `Edge` doesn't support `StreamAnalyticsClusterId` and `StreamingUnits`.
        /// </summary>
        [Input("type")]
        public Input<string>? Type { get; set; }

        public JobArgs()
        {
        }
        public static new JobArgs Empty => new JobArgs();
    }

    public sealed class JobState : global::Pulumi.ResourceArgs
    {
        /// <summary>
        /// Specifies the compatibility level for this job - which controls certain runtime behaviours of the streaming job. Possible values are `1.0`, `1.1` and `1.2`.
        /// 
        /// &gt; **Note:** Support for Compatibility Level 1.2 is dependent on a new version of the Stream Analytics API, which [being tracked in this issue](https://github.com/Azure/azure-rest-api-specs/issues/5604).
        /// </summary>
        [Input("compatibilityLevel")]
        public Input<string>? CompatibilityLevel { get; set; }

        /// <summary>
        /// The policy for storing stream analytics content. Possible values are `JobStorageAccount`, `SystemAccount`. Defaults to `SystemAccount`.
        /// </summary>
        [Input("contentStoragePolicy")]
        public Input<string>? ContentStoragePolicy { get; set; }

        /// <summary>
        /// Specifies the Data Locale of the Job, which [should be a supported .NET Culture](https://msdn.microsoft.com/en-us/library/system.globalization.culturetypes(v=vs.110).aspx). Defaults to `en-US`.
        /// </summary>
        [Input("dataLocale")]
        public Input<string>? DataLocale { get; set; }

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where events arriving late could be included. Supported range is `-1` (indefinite) to `1814399` (20d 23h 59m 59s). Default is `5`.
        /// </summary>
        [Input("eventsLateArrivalMaxDelayInSeconds")]
        public Input<int>? EventsLateArrivalMaxDelayInSeconds { get; set; }

        /// <summary>
        /// Specifies the maximum tolerable delay in seconds where out-of-order events can be adjusted to be back in order. Supported range is `0` to `599` (9m 59s). Default is `0`.
        /// </summary>
        [Input("eventsOutOfOrderMaxDelayInSeconds")]
        public Input<int>? EventsOutOfOrderMaxDelayInSeconds { get; set; }

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive out of order in the input event stream. Possible values are `Adjust` and `Drop`. Default is `Adjust`.
        /// </summary>
        [Input("eventsOutOfOrderPolicy")]
        public Input<string>? EventsOutOfOrderPolicy { get; set; }

        /// <summary>
        /// An `Identity` block as defined below.
        /// </summary>
        [Input("identity")]
        public Input<Inputs.JobIdentityGetArgs>? Identity { get; set; }

        /// <summary>
        /// The Job ID assigned by the Stream Analytics Job.
        /// </summary>
        [Input("jobId")]
        public Input<string>? JobId { get; set; }

        [Input("jobStorageAccounts")]
        private InputList<Inputs.JobJobStorageAccountGetArgs>? _jobStorageAccounts;

        /// <summary>
        /// The details of the job storage account. A `JobStorageAccount` block as defined below.
        /// 
        /// &gt; **Note:** `ContentStoragePolicy` must be set to `JobStorageAccount` when specifying `JobStorageAccount`.
        /// </summary>
        public InputList<Inputs.JobJobStorageAccountGetArgs> JobStorageAccounts
        {
            get => _jobStorageAccounts ?? (_jobStorageAccounts = new InputList<Inputs.JobJobStorageAccountGetArgs>());
            set => _jobStorageAccounts = value;
        }

        /// <summary>
        /// The Azure Region in which the Resource Group exists. Changing this forces a new resource to be created.
        /// </summary>
        [Input("location")]
        public Input<string>? Location { get; set; }

        /// <summary>
        /// The name of the Stream Analytics Job. Changing this forces a new resource to be created.
        /// </summary>
        [Input("name")]
        public Input<string>? Name { get; set; }

        /// <summary>
        /// Specifies the policy which should be applied to events which arrive at the output and cannot be written to the external storage due to being malformed (such as missing column values, column values of wrong type or size). Possible values are `Drop` and `Stop`. Default is `Drop`.
        /// </summary>
        [Input("outputErrorPolicy")]
        public Input<string>? OutputErrorPolicy { get; set; }

        /// <summary>
        /// The name of the Resource Group where the Stream Analytics Job should exist. Changing this forces a new resource to be created.
        /// </summary>
        [Input("resourceGroupName")]
        public Input<string>? ResourceGroupName { get; set; }

        /// <summary>
        /// The SKU Name to use for the Stream Analytics Job. Possible values are `Standard`, `StandardV2`. Defaults to `Standard`.
        /// </summary>
        [Input("skuName")]
        public Input<string>? SkuName { get; set; }

        /// <summary>
        /// The ID of an existing Stream Analytics Cluster where the Stream Analytics Job should run.
        /// </summary>
        [Input("streamAnalyticsClusterId")]
        public Input<string>? StreamAnalyticsClusterId { get; set; }

        /// <summary>
        /// Specifies the number of streaming units that the streaming job uses. Supported values are `1`, `3`, `6` and multiples of `6` up to `120`. A conversion table for V2 streaming units can be found [here](https://learn.microsoft.com/azure/stream-analytics/stream-analytics-streaming-unit-consumption#understand-streaming-unit-conversions-and-where-they-apply)
        /// 
        /// &gt; **Note:** `StreamingUnits` must be set when `Type` is `Cloud`.
        /// </summary>
        [Input("streamingUnits")]
        public Input<int>? StreamingUnits { get; set; }

        [Input("tags")]
        private InputMap<string>? _tags;
        public InputMap<string> Tags
        {
            get => _tags ?? (_tags = new InputMap<string>());
            set => _tags = value;
        }

        [Input("transformationQuery")]
        public Input<string>? TransformationQuery { get; set; }

        /// <summary>
        /// The type of the Stream Analytics Job. Possible values are `Cloud` and `Edge`. Defaults to `Cloud`. Changing this forces a new resource to be created.
        /// 
        /// &gt; **Note:** `Edge` doesn't support `StreamAnalyticsClusterId` and `StreamingUnits`.
        /// </summary>
        [Input("type")]
        public Input<string>? Type { get; set; }

        public JobState()
        {
        }
        public static new JobState Empty => new JobState();
    }
}
