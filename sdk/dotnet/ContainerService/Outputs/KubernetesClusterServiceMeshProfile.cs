// *** WARNING: this file was generated by pulumi-language-dotnet. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

using System;
using System.Collections.Generic;
using System.Collections.Immutable;
using System.Threading.Tasks;
using Pulumi.Serialization;

namespace Pulumi.Azure.ContainerService.Outputs
{

    [OutputType]
    public sealed class KubernetesClusterServiceMeshProfile
    {
        /// <summary>
        /// A `certificate_authority` block as defined below. When this property is specified, `key_vault_secrets_provider` is also required to be set. This configuration allows you to bring your own root certificate and keys for Istio CA in the Istio-based service mesh add-on for Azure Kubernetes Service.
        /// </summary>
        public readonly Outputs.KubernetesClusterServiceMeshProfileCertificateAuthority? CertificateAuthority;
        /// <summary>
        /// Is Istio External Ingress Gateway enabled?
        /// 
        /// &gt; **NOTE:** Currently only one Internal Ingress Gateway and one External Ingress Gateway are allowed per cluster
        /// </summary>
        public readonly bool? ExternalIngressGatewayEnabled;
        /// <summary>
        /// Is Istio Internal Ingress Gateway enabled?
        /// </summary>
        public readonly bool? InternalIngressGatewayEnabled;
        /// <summary>
        /// The mode of the service mesh. Possible value is `Istio`.
        /// </summary>
        public readonly string Mode;
        /// <summary>
        /// Specify 1 or 2 Istio control plane revisions for managing minor upgrades using the canary upgrade process. For example, create the resource with `revisions` set to `["asm-1-20"]`, or leave it empty (the `revisions` will only be known after apply). To start the canary upgrade, change `revisions` to `["asm-1-20", "asm-1-21"]`. To roll back the canary upgrade, revert to `["asm-1-20"]`. To confirm the upgrade, change to `["asm-1-21"]`.
        /// 
        /// &gt; **NOTE:** Upgrading to a new (canary) revision does not affect existing sidecar proxies. You need to apply the canary revision label to selected namespaces and restart pods with kubectl to inject the new sidecar proxy. [Learn more](https://istio.io/latest/docs/setup/upgrade/canary/#data-plane).
        /// </summary>
        public readonly ImmutableArray<string> Revisions;

        [OutputConstructor]
        private KubernetesClusterServiceMeshProfile(
            Outputs.KubernetesClusterServiceMeshProfileCertificateAuthority? certificateAuthority,

            bool? externalIngressGatewayEnabled,

            bool? internalIngressGatewayEnabled,

            string mode,

            ImmutableArray<string> revisions)
        {
            CertificateAuthority = certificateAuthority;
            ExternalIngressGatewayEnabled = externalIngressGatewayEnabled;
            InternalIngressGatewayEnabled = internalIngressGatewayEnabled;
            Mode = mode;
            Revisions = revisions;
        }
    }
}
