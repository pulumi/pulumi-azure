// *** WARNING: this file was generated by pulumi-language-java. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.azure.apimanagement.inputs;

import com.pulumi.azure.apimanagement.inputs.BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Import;
import com.pulumi.exceptions.MissingRequiredPropertyException;
import java.lang.Integer;
import java.lang.String;
import java.util.List;
import java.util.Objects;
import java.util.Optional;
import javax.annotation.Nullable;


public final class BackendCircuitBreakerRuleFailureConditionArgs extends com.pulumi.resources.ResourceArgs {

    public static final BackendCircuitBreakerRuleFailureConditionArgs Empty = new BackendCircuitBreakerRuleFailureConditionArgs();

    /**
     * Specifies the number of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `10000`.
     * 
     */
    @Import(name="count")
    private @Nullable Output<Integer> count;

    /**
     * @return Specifies the number of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `10000`.
     * 
     */
    public Optional<Output<Integer>> count() {
        return Optional.ofNullable(this.count);
    }

    /**
     * Specifies a list of error reasons to consider as failures.
     * 
     */
    @Import(name="errorReasons")
    private @Nullable Output<List<String>> errorReasons;

    /**
     * @return Specifies a list of error reasons to consider as failures.
     * 
     */
    public Optional<Output<List<String>>> errorReasons() {
        return Optional.ofNullable(this.errorReasons);
    }

    /**
     * Specifies the time window over which failures are counted, in ISO 8601 format.
     * 
     */
    @Import(name="intervalDuration", required=true)
    private Output<String> intervalDuration;

    /**
     * @return Specifies the time window over which failures are counted, in ISO 8601 format.
     * 
     */
    public Output<String> intervalDuration() {
        return this.intervalDuration;
    }

    /**
     * Specifies the percentage of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `100`.
     * 
     * &gt; **Note:** Exactly one of `percentage` or `count` must be specified.
     * 
     */
    @Import(name="percentage")
    private @Nullable Output<Integer> percentage;

    /**
     * @return Specifies the percentage of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `100`.
     * 
     * &gt; **Note:** Exactly one of `percentage` or `count` must be specified.
     * 
     */
    public Optional<Output<Integer>> percentage() {
        return Optional.ofNullable(this.percentage);
    }

    /**
     * One or more `statusCodeRange` blocks as defined below.
     * 
     * &gt; **Note:** At least one of `statusCodeRange`, and `errorReasons` must be set.
     * 
     */
    @Import(name="statusCodeRanges")
    private @Nullable Output<List<BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs>> statusCodeRanges;

    /**
     * @return One or more `statusCodeRange` blocks as defined below.
     * 
     * &gt; **Note:** At least one of `statusCodeRange`, and `errorReasons` must be set.
     * 
     */
    public Optional<Output<List<BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs>>> statusCodeRanges() {
        return Optional.ofNullable(this.statusCodeRanges);
    }

    private BackendCircuitBreakerRuleFailureConditionArgs() {}

    private BackendCircuitBreakerRuleFailureConditionArgs(BackendCircuitBreakerRuleFailureConditionArgs $) {
        this.count = $.count;
        this.errorReasons = $.errorReasons;
        this.intervalDuration = $.intervalDuration;
        this.percentage = $.percentage;
        this.statusCodeRanges = $.statusCodeRanges;
    }

    public static Builder builder() {
        return new Builder();
    }
    public static Builder builder(BackendCircuitBreakerRuleFailureConditionArgs defaults) {
        return new Builder(defaults);
    }

    public static final class Builder {
        private BackendCircuitBreakerRuleFailureConditionArgs $;

        public Builder() {
            $ = new BackendCircuitBreakerRuleFailureConditionArgs();
        }

        public Builder(BackendCircuitBreakerRuleFailureConditionArgs defaults) {
            $ = new BackendCircuitBreakerRuleFailureConditionArgs(Objects.requireNonNull(defaults));
        }

        /**
         * @param count Specifies the number of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `10000`.
         * 
         * @return builder
         * 
         */
        public Builder count(@Nullable Output<Integer> count) {
            $.count = count;
            return this;
        }

        /**
         * @param count Specifies the number of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `10000`.
         * 
         * @return builder
         * 
         */
        public Builder count(Integer count) {
            return count(Output.of(count));
        }

        /**
         * @param errorReasons Specifies a list of error reasons to consider as failures.
         * 
         * @return builder
         * 
         */
        public Builder errorReasons(@Nullable Output<List<String>> errorReasons) {
            $.errorReasons = errorReasons;
            return this;
        }

        /**
         * @param errorReasons Specifies a list of error reasons to consider as failures.
         * 
         * @return builder
         * 
         */
        public Builder errorReasons(List<String> errorReasons) {
            return errorReasons(Output.of(errorReasons));
        }

        /**
         * @param errorReasons Specifies a list of error reasons to consider as failures.
         * 
         * @return builder
         * 
         */
        public Builder errorReasons(String... errorReasons) {
            return errorReasons(List.of(errorReasons));
        }

        /**
         * @param intervalDuration Specifies the time window over which failures are counted, in ISO 8601 format.
         * 
         * @return builder
         * 
         */
        public Builder intervalDuration(Output<String> intervalDuration) {
            $.intervalDuration = intervalDuration;
            return this;
        }

        /**
         * @param intervalDuration Specifies the time window over which failures are counted, in ISO 8601 format.
         * 
         * @return builder
         * 
         */
        public Builder intervalDuration(String intervalDuration) {
            return intervalDuration(Output.of(intervalDuration));
        }

        /**
         * @param percentage Specifies the percentage of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `100`.
         * 
         * &gt; **Note:** Exactly one of `percentage` or `count` must be specified.
         * 
         * @return builder
         * 
         */
        public Builder percentage(@Nullable Output<Integer> percentage) {
            $.percentage = percentage;
            return this;
        }

        /**
         * @param percentage Specifies the percentage of failures within the specified interval that will trigger the circuit breaker. Possible values are between `1` and `100`.
         * 
         * &gt; **Note:** Exactly one of `percentage` or `count` must be specified.
         * 
         * @return builder
         * 
         */
        public Builder percentage(Integer percentage) {
            return percentage(Output.of(percentage));
        }

        /**
         * @param statusCodeRanges One or more `statusCodeRange` blocks as defined below.
         * 
         * &gt; **Note:** At least one of `statusCodeRange`, and `errorReasons` must be set.
         * 
         * @return builder
         * 
         */
        public Builder statusCodeRanges(@Nullable Output<List<BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs>> statusCodeRanges) {
            $.statusCodeRanges = statusCodeRanges;
            return this;
        }

        /**
         * @param statusCodeRanges One or more `statusCodeRange` blocks as defined below.
         * 
         * &gt; **Note:** At least one of `statusCodeRange`, and `errorReasons` must be set.
         * 
         * @return builder
         * 
         */
        public Builder statusCodeRanges(List<BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs> statusCodeRanges) {
            return statusCodeRanges(Output.of(statusCodeRanges));
        }

        /**
         * @param statusCodeRanges One or more `statusCodeRange` blocks as defined below.
         * 
         * &gt; **Note:** At least one of `statusCodeRange`, and `errorReasons` must be set.
         * 
         * @return builder
         * 
         */
        public Builder statusCodeRanges(BackendCircuitBreakerRuleFailureConditionStatusCodeRangeArgs... statusCodeRanges) {
            return statusCodeRanges(List.of(statusCodeRanges));
        }

        public BackendCircuitBreakerRuleFailureConditionArgs build() {
            if ($.intervalDuration == null) {
                throw new MissingRequiredPropertyException("BackendCircuitBreakerRuleFailureConditionArgs", "intervalDuration");
            }
            return $;
        }
    }

}
