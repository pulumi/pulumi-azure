// *** WARNING: this file was generated by pulumi-java-gen. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package com.pulumi.azure.compute;

import com.pulumi.azure.Utilities;
import com.pulumi.azure.compute.ScaleSetArgs;
import com.pulumi.azure.compute.inputs.ScaleSetState;
import com.pulumi.azure.compute.outputs.ScaleSetBootDiagnostics;
import com.pulumi.azure.compute.outputs.ScaleSetExtension;
import com.pulumi.azure.compute.outputs.ScaleSetIdentity;
import com.pulumi.azure.compute.outputs.ScaleSetNetworkProfile;
import com.pulumi.azure.compute.outputs.ScaleSetOsProfile;
import com.pulumi.azure.compute.outputs.ScaleSetOsProfileLinuxConfig;
import com.pulumi.azure.compute.outputs.ScaleSetOsProfileSecret;
import com.pulumi.azure.compute.outputs.ScaleSetOsProfileWindowsConfig;
import com.pulumi.azure.compute.outputs.ScaleSetPlan;
import com.pulumi.azure.compute.outputs.ScaleSetRollingUpgradePolicy;
import com.pulumi.azure.compute.outputs.ScaleSetSku;
import com.pulumi.azure.compute.outputs.ScaleSetStorageProfileDataDisk;
import com.pulumi.azure.compute.outputs.ScaleSetStorageProfileImageReference;
import com.pulumi.azure.compute.outputs.ScaleSetStorageProfileOsDisk;
import com.pulumi.core.Output;
import com.pulumi.core.annotations.Export;
import com.pulumi.core.annotations.ResourceType;
import com.pulumi.core.internal.Codegen;
import java.lang.Boolean;
import java.lang.String;
import java.util.List;
import java.util.Map;
import java.util.Optional;
import javax.annotation.Nullable;

/**
 * Manages a virtual machine scale set.
 * 
 * ## Example Usage
 * ## Example of storage_profile_image_reference with id
 * ```java
 * package generated_program;
 * 
 * import com.pulumi.Context;
 * import com.pulumi.Pulumi;
 * import com.pulumi.core.Output;
 * import com.pulumi.azure.compute.Image;
 * import com.pulumi.azure.compute.ImageArgs;
 * import com.pulumi.azure.compute.ScaleSet;
 * import com.pulumi.azure.compute.ScaleSetArgs;
 * import java.util.List;
 * import java.util.ArrayList;
 * import java.util.Map;
 * import java.io.File;
 * import java.nio.file.Files;
 * import java.nio.file.Paths;
 * 
 * public class App {
 *     public static void main(String[] args) {
 *         Pulumi.run(App::stack);
 *     }
 * 
 *     public static void stack(Context ctx) {
 *         var example = new Image(&#34;example&#34;, ImageArgs.builder()        
 *             .name(&#34;test&#34;)
 *             .build());
 * 
 *         var exampleScaleSet = new ScaleSet(&#34;exampleScaleSet&#34;, ScaleSetArgs.builder()        
 *             .name(&#34;test&#34;)
 *             .storageProfileImageReference(%!v(PANIC=Format method: runtime error: invalid memory address or nil pointer dereference))
 *             .build());
 * 
 *     }
 * }
 * ```
 * 
 * ## Import
 * 
 * Virtual Machine Scale Sets can be imported using the `resource id`, e.g.
 * 
 * ```sh
 * $ pulumi import azure:compute/scaleSet:ScaleSet scaleset1 /subscriptions/00000000-0000-0000-0000-000000000000/resourceGroups/mygroup1/providers/Microsoft.Compute/virtualMachineScaleSets/scaleset1
 * ```
 * 
 */
@ResourceType(type="azure:compute/scaleSet:ScaleSet")
public class ScaleSet extends com.pulumi.resources.CustomResource {
    /**
     * Automatic OS patches can be applied by Azure to your scaleset. This is particularly useful when `upgrade_policy_mode` is set to `Rolling`. Defaults to `false`.
     * 
     */
    @Export(name="automaticOsUpgrade", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> automaticOsUpgrade;

    /**
     * @return Automatic OS patches can be applied by Azure to your scaleset. This is particularly useful when `upgrade_policy_mode` is set to `Rolling`. Defaults to `false`.
     * 
     */
    public Output<Optional<Boolean>> automaticOsUpgrade() {
        return Codegen.optional(this.automaticOsUpgrade);
    }
    /**
     * A `boot_diagnostics` block as referenced below.
     * 
     */
    @Export(name="bootDiagnostics", refs={ScaleSetBootDiagnostics.class}, tree="[0]")
    private Output</* @Nullable */ ScaleSetBootDiagnostics> bootDiagnostics;

    /**
     * @return A `boot_diagnostics` block as referenced below.
     * 
     */
    public Output<Optional<ScaleSetBootDiagnostics>> bootDiagnostics() {
        return Codegen.optional(this.bootDiagnostics);
    }
    /**
     * Specifies the eviction policy for Virtual Machines in this Scale Set. Possible values are `Deallocate` and `Delete`. Changing this forces a new resource to be created.
     * 
     * &gt; **NOTE:** `eviction_policy` can only be set when `priority` is set to `Low`.
     * 
     */
    @Export(name="evictionPolicy", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> evictionPolicy;

    /**
     * @return Specifies the eviction policy for Virtual Machines in this Scale Set. Possible values are `Deallocate` and `Delete`. Changing this forces a new resource to be created.
     * 
     * &gt; **NOTE:** `eviction_policy` can only be set when `priority` is set to `Low`.
     * 
     */
    public Output<Optional<String>> evictionPolicy() {
        return Codegen.optional(this.evictionPolicy);
    }
    /**
     * Can be specified multiple times to add extension profiles to the scale set. Each `extension` block supports the fields documented below.
     * 
     */
    @Export(name="extensions", refs={List.class,ScaleSetExtension.class}, tree="[0,1]")
    private Output</* @Nullable */ List<ScaleSetExtension>> extensions;

    /**
     * @return Can be specified multiple times to add extension profiles to the scale set. Each `extension` block supports the fields documented below.
     * 
     */
    public Output<Optional<List<ScaleSetExtension>>> extensions() {
        return Codegen.optional(this.extensions);
    }
    /**
     * Specifies the identifier for the load balancer health probe. Required when using `Rolling` as your `upgrade_policy_mode`.
     * 
     */
    @Export(name="healthProbeId", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> healthProbeId;

    /**
     * @return Specifies the identifier for the load balancer health probe. Required when using `Rolling` as your `upgrade_policy_mode`.
     * 
     */
    public Output<Optional<String>> healthProbeId() {
        return Codegen.optional(this.healthProbeId);
    }
    /**
     * An `identity` block as defined below.
     * 
     */
    @Export(name="identity", refs={ScaleSetIdentity.class}, tree="[0]")
    private Output<ScaleSetIdentity> identity;

    /**
     * @return An `identity` block as defined below.
     * 
     */
    public Output<ScaleSetIdentity> identity() {
        return this.identity;
    }
    /**
     * (Optional, when a Windows machine) Specifies the Windows OS license type. If supplied, the only allowed values are `Windows_Client` and `Windows_Server`.
     * 
     */
    @Export(name="licenseType", refs={String.class}, tree="[0]")
    private Output<String> licenseType;

    /**
     * @return (Optional, when a Windows machine) Specifies the Windows OS license type. If supplied, the only allowed values are `Windows_Client` and `Windows_Server`.
     * 
     */
    public Output<String> licenseType() {
        return this.licenseType;
    }
    /**
     * Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.
     * 
     */
    @Export(name="location", refs={String.class}, tree="[0]")
    private Output<String> location;

    /**
     * @return Specifies the supported Azure location where the resource exists. Changing this forces a new resource to be created.
     * 
     */
    public Output<String> location() {
        return this.location;
    }
    /**
     * Specifies the name of the virtual machine scale set resource. Changing this forces a new resource to be created.
     * 
     */
    @Export(name="name", refs={String.class}, tree="[0]")
    private Output<String> name;

    /**
     * @return Specifies the name of the virtual machine scale set resource. Changing this forces a new resource to be created.
     * 
     */
    public Output<String> name() {
        return this.name;
    }
    /**
     * A collection of `network_profile` blocks as documented below.
     * 
     */
    @Export(name="networkProfiles", refs={List.class,ScaleSetNetworkProfile.class}, tree="[0,1]")
    private Output<List<ScaleSetNetworkProfile>> networkProfiles;

    /**
     * @return A collection of `network_profile` blocks as documented below.
     * 
     */
    public Output<List<ScaleSetNetworkProfile>> networkProfiles() {
        return this.networkProfiles;
    }
    /**
     * A `os_profile` block as documented below.
     * 
     */
    @Export(name="osProfile", refs={ScaleSetOsProfile.class}, tree="[0]")
    private Output<ScaleSetOsProfile> osProfile;

    /**
     * @return A `os_profile` block as documented below.
     * 
     */
    public Output<ScaleSetOsProfile> osProfile() {
        return this.osProfile;
    }
    /**
     * A `os_profile_linux_config` block as documented below.
     * 
     */
    @Export(name="osProfileLinuxConfig", refs={ScaleSetOsProfileLinuxConfig.class}, tree="[0]")
    private Output<ScaleSetOsProfileLinuxConfig> osProfileLinuxConfig;

    /**
     * @return A `os_profile_linux_config` block as documented below.
     * 
     */
    public Output<ScaleSetOsProfileLinuxConfig> osProfileLinuxConfig() {
        return this.osProfileLinuxConfig;
    }
    /**
     * A collection of `os_profile_secrets` blocks as documented below.
     * 
     */
    @Export(name="osProfileSecrets", refs={List.class,ScaleSetOsProfileSecret.class}, tree="[0,1]")
    private Output</* @Nullable */ List<ScaleSetOsProfileSecret>> osProfileSecrets;

    /**
     * @return A collection of `os_profile_secrets` blocks as documented below.
     * 
     */
    public Output<Optional<List<ScaleSetOsProfileSecret>>> osProfileSecrets() {
        return Codegen.optional(this.osProfileSecrets);
    }
    /**
     * A `os_profile_windows_config` block as documented below.
     * 
     */
    @Export(name="osProfileWindowsConfig", refs={ScaleSetOsProfileWindowsConfig.class}, tree="[0]")
    private Output</* @Nullable */ ScaleSetOsProfileWindowsConfig> osProfileWindowsConfig;

    /**
     * @return A `os_profile_windows_config` block as documented below.
     * 
     */
    public Output<Optional<ScaleSetOsProfileWindowsConfig>> osProfileWindowsConfig() {
        return Codegen.optional(this.osProfileWindowsConfig);
    }
    /**
     * Specifies whether the virtual machine scale set should be overprovisioned. Defaults to `true`.
     * 
     */
    @Export(name="overprovision", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> overprovision;

    /**
     * @return Specifies whether the virtual machine scale set should be overprovisioned. Defaults to `true`.
     * 
     */
    public Output<Optional<Boolean>> overprovision() {
        return Codegen.optional(this.overprovision);
    }
    /**
     * A `plan` block as documented below.
     * 
     */
    @Export(name="plan", refs={ScaleSetPlan.class}, tree="[0]")
    private Output</* @Nullable */ ScaleSetPlan> plan;

    /**
     * @return A `plan` block as documented below.
     * 
     */
    public Output<Optional<ScaleSetPlan>> plan() {
        return Codegen.optional(this.plan);
    }
    /**
     * Specifies the priority for the Virtual Machines in the Scale Set. Possible values are `Low` and `Regular`. Changing this forces a new resource to be created.
     * 
     */
    @Export(name="priority", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> priority;

    /**
     * @return Specifies the priority for the Virtual Machines in the Scale Set. Possible values are `Low` and `Regular`. Changing this forces a new resource to be created.
     * 
     */
    public Output<Optional<String>> priority() {
        return Codegen.optional(this.priority);
    }
    /**
     * The ID of the Proximity Placement Group to which this Virtual Machine should be assigned. Changing this forces a new resource to be created
     * 
     */
    @Export(name="proximityPlacementGroupId", refs={String.class}, tree="[0]")
    private Output</* @Nullable */ String> proximityPlacementGroupId;

    /**
     * @return The ID of the Proximity Placement Group to which this Virtual Machine should be assigned. Changing this forces a new resource to be created
     * 
     */
    public Output<Optional<String>> proximityPlacementGroupId() {
        return Codegen.optional(this.proximityPlacementGroupId);
    }
    /**
     * The name of the resource group in which to create the virtual machine scale set. Changing this forces a new resource to be created.
     * 
     */
    @Export(name="resourceGroupName", refs={String.class}, tree="[0]")
    private Output<String> resourceGroupName;

    /**
     * @return The name of the resource group in which to create the virtual machine scale set. Changing this forces a new resource to be created.
     * 
     */
    public Output<String> resourceGroupName() {
        return this.resourceGroupName;
    }
    /**
     * A `rolling_upgrade_policy` block as defined below. This is only applicable when the `upgrade_policy_mode` is `Rolling`.
     * 
     */
    @Export(name="rollingUpgradePolicy", refs={ScaleSetRollingUpgradePolicy.class}, tree="[0]")
    private Output</* @Nullable */ ScaleSetRollingUpgradePolicy> rollingUpgradePolicy;

    /**
     * @return A `rolling_upgrade_policy` block as defined below. This is only applicable when the `upgrade_policy_mode` is `Rolling`.
     * 
     */
    public Output<Optional<ScaleSetRollingUpgradePolicy>> rollingUpgradePolicy() {
        return Codegen.optional(this.rollingUpgradePolicy);
    }
    /**
     * Specifies whether the scale set is limited to a single placement group with a maximum size of 100 virtual machines. If set to false, managed disks must be used. Changing this forces a new resource to be created. See [documentation](https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups) for more information. Defaults to `true`.
     * 
     */
    @Export(name="singlePlacementGroup", refs={Boolean.class}, tree="[0]")
    private Output</* @Nullable */ Boolean> singlePlacementGroup;

    /**
     * @return Specifies whether the scale set is limited to a single placement group with a maximum size of 100 virtual machines. If set to false, managed disks must be used. Changing this forces a new resource to be created. See [documentation](https://docs.microsoft.com/azure/virtual-machine-scale-sets/virtual-machine-scale-sets-placement-groups) for more information. Defaults to `true`.
     * 
     */
    public Output<Optional<Boolean>> singlePlacementGroup() {
        return Codegen.optional(this.singlePlacementGroup);
    }
    /**
     * A `sku` block as documented below.
     * 
     */
    @Export(name="sku", refs={ScaleSetSku.class}, tree="[0]")
    private Output<ScaleSetSku> sku;

    /**
     * @return A `sku` block as documented below.
     * 
     */
    public Output<ScaleSetSku> sku() {
        return this.sku;
    }
    /**
     * A `storage_profile_data_disk` block as documented below.
     * 
     */
    @Export(name="storageProfileDataDisks", refs={List.class,ScaleSetStorageProfileDataDisk.class}, tree="[0,1]")
    private Output</* @Nullable */ List<ScaleSetStorageProfileDataDisk>> storageProfileDataDisks;

    /**
     * @return A `storage_profile_data_disk` block as documented below.
     * 
     */
    public Output<Optional<List<ScaleSetStorageProfileDataDisk>>> storageProfileDataDisks() {
        return Codegen.optional(this.storageProfileDataDisks);
    }
    /**
     * A `storage_profile_image_reference` block as documented below.
     * 
     */
    @Export(name="storageProfileImageReference", refs={ScaleSetStorageProfileImageReference.class}, tree="[0]")
    private Output<ScaleSetStorageProfileImageReference> storageProfileImageReference;

    /**
     * @return A `storage_profile_image_reference` block as documented below.
     * 
     */
    public Output<ScaleSetStorageProfileImageReference> storageProfileImageReference() {
        return this.storageProfileImageReference;
    }
    /**
     * A `storage_profile_os_disk` block as documented below.
     * 
     */
    @Export(name="storageProfileOsDisk", refs={ScaleSetStorageProfileOsDisk.class}, tree="[0]")
    private Output<ScaleSetStorageProfileOsDisk> storageProfileOsDisk;

    /**
     * @return A `storage_profile_os_disk` block as documented below.
     * 
     */
    public Output<ScaleSetStorageProfileOsDisk> storageProfileOsDisk() {
        return this.storageProfileOsDisk;
    }
    /**
     * A mapping of tags to assign to the resource.
     * 
     */
    @Export(name="tags", refs={Map.class,String.class}, tree="[0,1,1]")
    private Output</* @Nullable */ Map<String,String>> tags;

    /**
     * @return A mapping of tags to assign to the resource.
     * 
     */
    public Output<Optional<Map<String,String>>> tags() {
        return Codegen.optional(this.tags);
    }
    /**
     * Specifies the mode of an upgrade to virtual machines in the scale set. Possible values, `Rolling`, `Manual`, or `Automatic`. When choosing `Rolling`, you will need to set a health probe.
     * 
     */
    @Export(name="upgradePolicyMode", refs={String.class}, tree="[0]")
    private Output<String> upgradePolicyMode;

    /**
     * @return Specifies the mode of an upgrade to virtual machines in the scale set. Possible values, `Rolling`, `Manual`, or `Automatic`. When choosing `Rolling`, you will need to set a health probe.
     * 
     */
    public Output<String> upgradePolicyMode() {
        return this.upgradePolicyMode;
    }
    /**
     * A collection of availability zones to spread the Virtual Machines over. Changing this forces a new resource to be created.
     * 
     * &gt; **NOTE:** Availability Zones are [only supported in several regions at this time](https://docs.microsoft.com/azure/availability-zones/az-overview).
     * 
     */
    @Export(name="zones", refs={List.class,String.class}, tree="[0,1]")
    private Output</* @Nullable */ List<String>> zones;

    /**
     * @return A collection of availability zones to spread the Virtual Machines over. Changing this forces a new resource to be created.
     * 
     * &gt; **NOTE:** Availability Zones are [only supported in several regions at this time](https://docs.microsoft.com/azure/availability-zones/az-overview).
     * 
     */
    public Output<Optional<List<String>>> zones() {
        return Codegen.optional(this.zones);
    }

    /**
     *
     * @param name The _unique_ name of the resulting resource.
     */
    public ScaleSet(String name) {
        this(name, ScaleSetArgs.Empty);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     */
    public ScaleSet(String name, ScaleSetArgs args) {
        this(name, args, null);
    }
    /**
     *
     * @param name The _unique_ name of the resulting resource.
     * @param args The arguments to use to populate this resource's properties.
     * @param options A bag of options that control this resource's behavior.
     */
    public ScaleSet(String name, ScaleSetArgs args, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("azure:compute/scaleSet:ScaleSet", name, args == null ? ScaleSetArgs.Empty : args, makeResourceOptions(options, Codegen.empty()));
    }

    private ScaleSet(String name, Output<String> id, @Nullable ScaleSetState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        super("azure:compute/scaleSet:ScaleSet", name, state, makeResourceOptions(options, id));
    }

    private static com.pulumi.resources.CustomResourceOptions makeResourceOptions(@Nullable com.pulumi.resources.CustomResourceOptions options, @Nullable Output<String> id) {
        var defaultOptions = com.pulumi.resources.CustomResourceOptions.builder()
            .version(Utilities.getVersion())
            .build();
        return com.pulumi.resources.CustomResourceOptions.merge(defaultOptions, options, id);
    }

    /**
     * Get an existing Host resource's state with the given name, ID, and optional extra
     * properties used to qualify the lookup.
     *
     * @param name The _unique_ name of the resulting resource.
     * @param id The _unique_ provider ID of the resource to lookup.
     * @param state
     * @param options Optional settings to control the behavior of the CustomResource.
     */
    public static ScaleSet get(String name, Output<String> id, @Nullable ScaleSetState state, @Nullable com.pulumi.resources.CustomResourceOptions options) {
        return new ScaleSet(name, id, state, options);
    }
}
